import:
    - globals.yaml

textures:
    pois:
        url: ../images/poi_icons_18@2x.png
        filtering: mipmap
        sprites:
            # define sprites: [x origin, y origin, width, height]
            airport: [836, 0, 36, 34]
            aerodrome: [836, 0, 36, 34]
            aquarium: [618, 168, 36, 34]
            art-gallery: [530, 168, 36, 34]
            art_gallery: [530, 168, 36, 34]
            art: [530, 168, 36, 34]
            athletics-sports: [88, 168, 40, 36]
            pitch: [88, 168, 40, 36]
            athletic_sports: [88, 168, 40, 36]
            recreation_ground: [88, 168, 40, 36]
            atm: [814, 126, 36, 36]
            automotive-shop: [902, 126, 36, 34]
            car_repair: [902, 126, 36, 34]
            automotive: [902, 126, 36, 34]
            tyres: [902, 126, 36, 34]
            bakery: [442, 168, 36, 36]
            pastry: [442, 168, 36, 36]
            chocolate: [442, 168, 36, 34]
            bank: [858, 128, 36, 36]
            bar: [134, 168, 36, 36]
            pub: [134, 168, 36, 36]
            baseball-field: [448, 84, 40, 36]
            basketball-court: [402, 84, 40, 36]
            beach: [582, 84, 36, 34]
            beer-garden: [132, 210, 36, 34]
            biergarten: [132, 210, 36, 34]
            brewery: [132, 210, 36, 34]
            bench: [528, 0, 36, 34]
            bicycle-parking: [544, 126, 36, 34]
            bike-shop: [768, 126, 40, 36]
            bicycle: [768, 126, 40, 36]
            bicycle_rental: [768, 126, 40, 36]
            bike: [768, 126, 40, 36]
            bike_shop: [768, 126, 40, 36]
            boat-ferry: [792, 0, 36, 34]
            ferry_terminal: [792, 0, 36, 34]
            ferry-boat: [792, 0, 36, 34]
            ferry: [792, 0, 36, 34]
            boat-ramp: [90, 84, 36, 34]
            slipway: [90, 84, 36, 34]
            boat_ramp: [90, 84, 36, 34]
            bookstore: [722, 126, 36, 36]
            books: [722, 126, 36, 36]
            bridge: [846, 84, 36, 36]
            buddhism: [714, 84, 36, 36]
            building: [310, 168, 36, 36]
            auditorium: [310, 168, 36, 36]
            terminal: [310, 168, 36, 36]
            hangar: [310, 168, 36, 36]
            retirement_home: [310, 168, 36, 36]
            manor: [310, 168, 36, 36]
            recreation_center: [310, 168, 36, 36]
            apartments: [310, 168, 36, 36]
            burger: [0, 210, 36, 34]
            fast_food: [0, 210, 36, 36]
            bus-station: [748, 0, 36, 36]
            bus_stop: [748, 0, 36, 34]
            bus_station: [748, 0, 36, 36]
            butcher: [854, 42, 40, 36]
            campground: [758, 84, 36, 34]
            camp_site: [758, 84, 36, 34]
            caravan_site: [758, 84, 36, 34]
            candy-store: [884, 168, 40, 36]
            candy: [884, 168, 40, 36]
            confectionery: [884, 168, 40, 36]
            capital-l: [364, 212, 18, 14]
            capital-m: [344, 212, 14, 10]
            capital-s: [324, 212, 12, 8]
            capital-xl: [416, 212, 22, 18]
            capital-xs: [310, 212, 8, 6]
            car-dealership: [678, 126, 36, 34]
            car: [678, 126, 36, 34]
            castle: [356, 42, 36, 34]
            fort: [356, 42, 36, 34]
            cemetery: [670, 84, 36, 36]
            grave_yard: [670, 84, 36, 36]
            church: [136, 126, 36, 36]
            clothing-store: [706, 168, 36, 36]
            clothes: [706, 168, 36, 36]
            chothing-store: [706, 168, 36, 36]
            fashion: [706, 168, 36, 36]
            coffee-shop: [398, 168, 36, 36]
            cafe: [398, 168, 36, 36]
            college-university: [752, 168, 36, 36]
            university: [752, 168, 36, 36]
            college: [752, 168, 36, 36]
            convenience-store: [0, 84, 36, 36]
            convenience: [0, 84, 40, 36]
            convenience_store: [0, 84, 40, 36]
            beverages: [0, 84, 40, 36]
            courthouse: [352, 0, 36, 36]
            department-store: [632, 126, 36, 36]
            department_store: [632, 126, 36, 36]
            drinking-water: [88, 210, 36, 36]
            dry-cleaning: [944, 42, 36, 36]
            dry_cleaning: [944, 42, 36, 36]
            electronics-store: [498, 126, 36, 36]
            electronics: [498, 126, 36, 36]
            computer: [498, 126, 36, 36]
            factory: [266, 168, 36, 36]
            industrial: [266, 168, 36, 36]
            chimney: [266, 168, 36, 36]
            sub_station: [266, 168, 36, 36]
            substation: [266, 168, 36, 36]
            wastewater_plant: [266, 168, 36, 36]
            works: [266, 168, 36, 36]
            water_works: [266, 168, 36, 36]
            plant: [266, 168, 36, 36]
            generator: [266, 168, 36, 36]
            fire-station: [308, 0, 36, 36]
            fire_station: [308, 0, 36, 36]
            fitness: [808, 42, 36, 36]
            gym: [808, 42, 40, 36]
            fitness_center: [808, 42, 36, 36]
            flower-shop: [90, 126, 36, 36]
            florist: [90, 126, 36, 36]
            forest: [930, 168, 36, 36]
            conservation: [930, 168, 36, 36]
            nature_reserve: [930, 168, 36, 36]
            fountain: [224, 126, 36, 36]
            garden: [626, 84, 36, 36]
            gas-station: [840, 168, 36, 36]
            fuel: [840, 168, 36, 36]
            generic: [264, 210, 38, 38]
            subway_entrance: [264, 210, 38, 38]
            gift-shop: [44, 126, 36, 36]
            gift: [44, 126, 36, 36]
            golf-course: [356, 84, 36, 36]
            golf_course: [356, 84, 36, 36]
            government-building: [44, 168, 36, 36]
            townhall: [44, 168, 36, 36]
            public_building: [44, 168, 36, 36]
            embassy: [44, 168, 36, 36]
            grocery-store: [452, 126, 40, 36]
            supermarket: [452, 126, 36, 36]
            health_food: [452, 126, 40, 36]
            greengrocer: [452, 126, 40, 36]
            harbor-marina: [0, 168, 36, 36]
            marina: [0, 168, 36, 36]
            harbor: [0, 168, 36, 36]
            harbor_marina: [0, 168, 36, 36]
            dock: [0, 168, 36, 36]
            mooring: [0, 168, 36, 34]
            hardware-store: [762, 42, 40, 36]
            hardware: [762, 42, 40, 36]
            doityourself: [762, 42, 40, 36]
            paint: [762, 42, 40, 36]
            historic-site: [0, 126, 36, 36]
            hospital: [176, 0, 36, 36]
            hotel: [704, 0, 36, 34]
            motel: [704, 0, 36, 34]
            hostel: [704, 0, 36, 34]
            ice-cream-shop: [176, 210, 36, 34]
            ice_cream: [176, 210, 36, 34]
            information: [220, 210, 36, 34]
            info: [220, 210, 36, 34]
            jewelry-store: [672, 42, 40, 36]
            jewelry: [672, 42, 40, 36]
            jewelry_store: [672, 42, 40, 36]
            landmark: [264, 0, 36, 34]
            memorial: [264, 0, 36, 34]
            monument: [264, 0, 36, 34]
            wayside_shrine: [264, 0, 36, 34]
            tower: [264, 0, 36, 34]
            beacon: [264, 0, 36, 34]
            laundry: [628, 42, 36, 34]
            dry_cleaning: [628, 42, 36, 34]
            library: [0, 0, 36, 36]
            light-rail: [660, 0, 36, 34]
            light_rail: [660, 0, 36, 34]
            tram_stop: [660, 0, 36, 34]
            lighthouse: [222, 84, 36, 34]
            liquor-store: [406, 126, 40, 36]
            alcohol: [406, 126, 40, 36]
            liquor: [406, 126, 40, 36]
            mall: [582, 42, 38, 36]
            market: [536, 42, 40, 36]
            variety_store: [536, 42, 40, 36]
            boutique: [536, 42, 40, 36]
            dairy: [536, 42, 40, 36]
            retail: [536, 42, 40, 36]
            mine: [718, 42, 36, 34]
            quarry: [718, 42, 36, 34]
            mineshaft: [718, 42, 36, 34]
            adit: [718, 42, 36, 34]
            mobile-phone-shop: [444, 42, 40, 36]
            mobile_phone: [444, 42, 40, 36]
            mosque: [88, 0, 36, 34]
            mountain: [178, 84, 36, 34]
            peak: [178, 84, 36, 34]
            movie-theatre: [662, 168, 36, 36]
            cinema: [662, 168, 36, 34]
            movie-theater: [662, 168, 36, 34]
            museum: [978, 84, 36, 36]
            observatory: [978, 84, 36, 36]
            music-store: [310, 42, 40, 36]
            music: [310, 42, 40, 36]
            musical_instrument: [310, 42, 40, 36]
            newsstand: [264, 42, 40, 36]
            kiosk: [264, 42, 40, 36]
            newsagent: [264, 42, 40, 36]
            office: [538, 84, 36, 34]
            insurance: [538, 84, 36, 34]
            company: [538, 84, 36, 34]
            optical-shop: [220, 42, 36, 34]
            optician: [220, 42, 36, 34]
            optical_shop: [220, 42, 36, 34]
            park: [180, 126, 36, 36]
            parking: [588, 126, 36, 34]
            performing-arts: [486, 168, 36, 34]
            theater: [486, 168, 36, 34]
            theatre: [486, 168, 36, 34]
            pet-store: [176, 42, 36, 34]
            pet: [176, 42, 36, 34]
            pet-service: [176, 42, 36, 34]
            pet_store: [176, 42, 36, 34]
            pharmacy: [900, 42, 36, 34]
            chemist: [900, 42, 36, 34]
            photography-lab: [132, 42, 36, 34]
            photo_studio: [132, 42, 36, 34]
            photography_lab: [132, 42, 36, 34]
            photographer: [132, 42, 36, 34]
            pier: [616, 0, 36, 34]
            playground: [400, 42, 36, 34]
            police: [220, 0, 36, 36]
            pool: [134, 84, 36, 34]
            swimming_pool: [134, 84, 36, 34]
            water_park: [134, 84, 36, 34]
            post-office: [222, 168, 36, 36]
            post_office: [222, 168, 36, 36]
            real-estate: [88, 42, 36, 34]
            estate_agent: [88, 42, 36, 34]
            real_estate: [88, 42, 36, 34]
            recycling-facility: [44, 42, 36, 36]
            recycling: [44, 42, 36, 36]
            rental-car: [572, 0, 36, 34]
            car_rental: [572, 0, 36, 34]
            car_sharing: [572, 0, 36, 34]
            restaurant: [974, 168, 36, 36]
            deli: [974, 168, 36, 34]
            ruin: [484, 0, 36, 34]
            ruins: [484, 0, 36, 34]
            archaeological_site: [484, 0, 36, 34]
            salon-barber: [0, 42, 36, 36]
            hairdresser: [0, 42, 36, 36]
            salon: [0, 42, 36, 34]
            beauty_salon: [0, 42, 36, 36]
            school: [494, 84, 36, 36]
            kindergarten: [494, 84, 36, 36]
            shoe-store: [490, 42, 36, 36]
            shoes: [490, 42, 36, 36]
            shoe_store: [490, 42, 40, 36]
            ski-area: [268, 126, 40, 36]
            soccer-field: [310, 84, 40, 36]
            spiritual-center: [178, 168, 36, 36]
            spiritual_center: [178, 168, 36, 36]
            place_of_worship: [178, 168, 36, 36]
            wayside_chapel: [178, 168, 36, 36]
            sporting-goods-shop: [972, 0, 40, 36]
            sporting_goods: [972, 0, 40, 36]
            sports: [972, 0, 40, 36]
            outdoor: [972, 0, 40, 36]
            spring: [266, 84, 36, 34]
            stadium: [360, 126, 40, 36]
            subway-entrance: [440, 0, 36, 34]
            synagogue: [44, 0, 36, 34]
            tailor-shop: [926, 0, 40, 36]
            tailor: [926, 0, 40, 36]
            tennis: [314, 126, 40, 36]
            theme-park: [934, 84, 36, 34]
            theme_park: [934, 84, 36, 34]
            miniature_golf: [934, 84, 36, 34]
            toilets: [802, 84, 36, 34]
            townspot-l: [608, 210, 18, 18]
            townspot-l-rev: [496, 212, 16, 14]
            townspot-m: [586, 210, 14, 14]
            townspot-m-rev: [476, 212, 12, 10]
            townspot-s: [566, 210, 12, 12]
            townspot-s-rev: [458, 212, 12, 8]
            townspot-xl: [634, 210, 22, 22]
            townspot-xl-rev: [520, 212, 20, 18]
            townspot-xs: [548, 210, 10, 10]
            townspot-xs-rev: [444, 212, 6, 4]
            toy-game-store: [880, 0, 40, 36]
            toys: [880, 0, 40, 36]
            baby_goods: [880, 0, 40, 36]
            traffic-signal: [796, 168, 36, 34]
            traffic_signals: [796, 168, 36, 34]
            train-station: [396, 0, 36, 36]
            station: [396, 0, 36, 36]
            train-staion: [396, 0, 36, 36]
            ux-current-location: [0, 342, 88, 86]
            current-location: [0, 342, 88, 86]
            ux-locate-off: [334, 342, 72, 70]
            locate-off: [334, 342, 72, 70]
            ux-locate-on: [254, 342, 72, 70]
            locate-on: [254, 342, 72, 70]
            ux-route-arrow: [664, 210, 128, 128]
            route-arrow: [664, 210, 128, 128]
            ux-route-start: [878, 210, 72, 92]
            route-start: [878, 210, 72, 92]
            ux-route-stop: [800, 210, 72, 92]
            route-stop: [800, 210, 72, 92]
            ux-search-active: [94, 342, 72, 108]
            search-active: [94, 342, 72, 108]
            ux-search-inactive: [174, 342, 72, 108]
            search-inactive: [174, 342, 72, 108]
            ux-transit-stop: [388, 212, 22, 18]
            veterinarian: [132, 0, 36, 34]
            pet_care: [132, 0, 36, 34]
            veterinary: [132, 0, 36, 34]
            view-point: [574, 168, 36, 34]
            viewpoint: [574, 168, 36, 34]
            view_point: [574, 168, 36, 34]
            vista: [574, 168, 36, 34]
            vineyard: [946, 126, 36, 34]
            volcano: [46, 84, 36, 34]
            wine-bar: [44, 210, 36, 34]
            winery: [354, 168, 36, 34]
            wine: [354, 168, 36, 34]
            zoo: [890, 84, 36, 34]

layers:

    pois_and_landuse_labels:
        data: { source: mapzen, layer: [pois,landuse] }
        visible: true
        filter:
            all:
                - not: { kind: [building,address,farm,tree,apron,residential,commercial,industrial] }
                - $geometry: point
                # White list a few kinds to "always" show per the tile zoom inclusion, else test feature's min_zoom
                #- function() { return feature.min_zoom <= $zoom }
                - function() { if( feature.kind == 'restaurant' || feature.kind == 'landmark' || feature.kind == 'cafe' ) { return true } else { return feature.min_zoom <= $zoom } }
                - any:
                    - area: false
                      all:
                          - $zoom: { min: 12 }
                    - area: true
                      all:
                          - kind: true
        draw:
            icons:
                size: 18px
                interactive: true
                visible: true
                priority: 65
                repeat_group: abc
                text:
                    text_source: global.ux_language_text_source
                    visible: false    # labels are enabled by each layer below
                    move_into_tile: false # preserves text alignment w/icons in JS
                    interactive: true
                    priority: 66
                    font:
                        family: Cairo
                        fill: white
                        size: 10px
            text:
                text_source: global.ux_language_text_source
                visible: false    # labels are enabled by each layer below
                move_into_tile: false # preserves text alignment w/icons in JS
                interactive: true
                priority: 66
                font:
                    family: Cairo
                    fill: white
                    size: 10px
        # poi_labels-z14:
        #     filter: { $zoom: [14] }
        #     draw: { icons: { text: { font: { size: 11px } } } }
        # poi_labels-z15:
        #     filter: { $zoom: [15,16,17] }
        #     draw: { icons: { text: { font: { size: 12px } } } }
        # poi_labels-z18:
        #     filter: { $zoom: [18,19] }
        #     draw: { icons: { text: { font: { size: 12px } } } }
        # poi_labels-z20-up:
        #     filter: { $zoom: { min: 20 } }
        #     draw: { icons: { text: { font: { size: 14px } } } }

        no-name:
            filter: { name: false }
            # sports-pitch:
            #     filter: { kind: [grass, pitch], $geometry: point, area: true, $zoom: { min: 17 } }
            #     draw:
            #         icons:
            #             sprite: function() { return feature.sport; }
            #             visible: true
            #             priority: 69
            #     baseball:
            #         filter: { sport: baseball }
            #         draw: { icons: { sprite: baseball-field } }
            #     basketball:
            #         filter: { sport: basketball }
            #         draw: { icons: { sprite: basketball-court } }
            #     football:
            #         filter: { sport: football }
            #         draw: { icons: { sprite: football-stadium } }
            #     hockey:
            #         filter: { sport: hockey-field }
            #         draw: { icons: { sprite: hockey-field } }
            #     soccer:
            #         filter: { sport: soccer }
            #         draw: { icons: { sprite: soccer-field } }
            #     tennis:
            #         filter: { sport: tennis }
            #         draw: { icons: { sprite: tennis } }
            toilets:
                filter: { kind: toilets  }
                draw: { icons: { sprite: toilets, visible: true } }
            playground:
                filter: { kind: playground, $zoom: { min: 18 }  }
                draw: { icons: { sprite: playground, visible: true } }
            picnic_site:
                filter: { kind: picnic_site, $zoom: { min: 18 }  }
                draw: { icons: { sprite: picnic-spot, visible: true } }
            information:
                filter: { kind: information, $zoom: { min: 18 }  }
                draw: { icons: { sprite: information, visible: true } }
            drinking-water:
                filter: { kind: drinking_water, $zoom: { min: 18 }  }
                draw: { icons: { sprite: drinking-water, visible: true } }
            traffic-signal:
                filter: { kind: traffic_signals, $zoom: { min: 18 } }
                draw:   { icons: { sprite: traffic-signal, visible: true } }
            bicycle-parking:
                filter: { kind: [bicycle_parking], $zoom: { min: 19 } }
                draw:   { icons: { sprite: bicycle-parking, visible: true } }
            car-parking:
                filter: { kind: [parking], $zoom: { min: 17 } }
                draw:   { icons: { sprite: parking, visible: true } }
        has-name:
            filter: { name: true }
            # match 1:1 correlations between data and sprite name
            direct-match:
                filter:
                    all:
                        - area: false
                draw:
                    icons:
                        # sprite_source: kind
                        sprite: function() { return feature.kind; }
                        visible: true

            # add generic icon at high zoom, if direct match fails
            generic-icons:
                filter: { $zoom: { min: 18 }, area: false }
                draw:
                    icons:
                        priority: 67
                        sprite_default: generic
                        visible: true

            # add generic icon at high zoom
            default-label-names:
                filter: { $zoom: { min: 13 }, area: false }
                draw:
                    icons:
                        text:
                            visible: true
#                            priority: 68

            landuse-labels-green-areas-national-park:
                filter:
                    all:
                        - area: true
                        - $geometry: point
                        - kind: [national_park, "park or protected land"]
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [4],  area: { min: 3000000000 } }
                        - { $zoom: [5],  area: { min: 3000000000 } }
                        - { $zoom: [6],  area: { min: 500000000 } }
                        - { $zoom: [7,8,9],  area: { min: 100000000 } }
                        - { $zoom: [10], area: { min: 50000000 } }
                        - { $zoom: [11], area: { min: 25000000 } }
                        - { $zoom: [12], area: { min: 5000000 } }
                        - { $zoom: [13], area: { min: 200000 } }
                        - { $zoom: [14], area: { min: 50000 } }
                        - { $zoom: { min: 15 } }
                national-park:
                    # yosemite national park, joshua tree national park
                    filter: function() { return feature.name && ((feature.name.indexOf("National Park") > -1) || feature.name.indexOf("National Monument") > -1); }
                    visible: true
                    draw:
                        icons:
                            visible: true
                            sprite: park
                            priority: 41
                            text:
                                visible: true
                                font:
                                    fill: [0.451,1.000,0.302]
                    natl-park-labels-z4-z6:
                        filter: { $zoom: [4,5,6] }
                        draw:
                            icons:
                                visible: false
                                text: { font: { size: 10px } }
                    natl-park-labels-z7:
                        filter: { $zoom: [7] }
                        draw:
                            icons:
                                text: { font: { size: 10px } }
                    natl-park-labels-z8:
                        filter: { $zoom: [8,9] }
                        draw:
                            icons:
                                text: { font: { size: 10px } }
                    natl-park-labels-z10:
                        filter: { $zoom: {min: 10, max: 14 } }
                        draw:
                            icons:
                                text: { font: { size: 10px } }

            landuse-labels-green-areas-not-national-park:
                filter:
                    all:
                        - area: true
                        - $geometry: point
                        - kind: [park, national_park, "park or protected land", conservation, protected_area, nature_reserve, forest, grass]
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [5],    area: { min: 10000000000 } }
                        - { $zoom: [6,7],  area: { min: 5000000000 } }
                        - { $zoom: [8],    area: { min: 1000000000 } }
                        - { $zoom: [9],    area: { min: 100000000 } }
                        - { $zoom: [10],   area: { min: 50000000 } }
                        - { $zoom: [11],   area: { min: 25000000 } }
                        - { $zoom: [12],   area: { min: 5000000 } }
                        - { $zoom: [13],   area: { min: 200000 } }
                        - { $zoom: [14],   area: { min: 50000 } }
                        - { $zoom: [15],   area: { min: 10000 } }
                        - { $zoom: [16],   area: { min: 1000 } }
                        - { $zoom: { min: 17, area: true } }
                not-national-park:
                    filter: function() { return feature.name && !((feature.name.indexOf("National Park") > -1) || feature.name.indexOf("National Monument") > -1); }
                    draw:
                        icons:
                            visible: true
                            sprite: park
                            priority: 41
                            text:
                                visible: true
                                priority: 42
                                font:
                                    fill: [0.451,1.000,0.302]
                    green-areas-z6:
                        # mojave national preserve
                        filter: { $zoom: [6] }
                        draw:
                            icons:
                                visible: false
                                text: { font: { size: 10px } }
                    green-areas-z7:
                        filter: { $zoom: [7] }
                        draw:
                            icons:
                                visible: false
                                text: { font: { size: 10px } }
                    green-areas-z8-z9:
                        filter: { $zoom: { min: 8, max: 14 } }
                        draw:
                            icons:
                                text: { font: { size: 10px } }
                    wilderness-areas-early:
                        filter: function() { return $zoom < 10 && feature.name && (feature.name.indexOf("Wilderness") > -1 || feature.name.indexOf("BLM") > -1) }
                        draw:
                            icons:
                                visible: false
                                text: { visible: false }
                    early-not-national-park:
                        filter: { not: { kind: [national_park] }, $zoom: { max: 6 } }
                        draw:
                            icons:
                                visible: false
                                text: { visible: false }
                    not-national-park:
                        filter: function() { return feature.name && !((feature.name.indexOf("National Park") > -1) || feature.name.indexOf("National Monument") > -1); }
                        # draw:
                        #     icons:
                        #         sprite: park
                        early:
                            filter: { $zoom: { max: 8 } }
                            draw:
                                icons:
                                    visible: false
                                    text: { visible: false }
                    forest:
                        filter: function() { return ( (feature.name && feature.name.indexOf("Forest") > -1) || ((feature.protect_class == 6 || feature.protect_class == '6') && feature.name.indexOf("Park") < 0) ) }
                        draw:
                            icons:
                                sprite: forest
                    hide-till-later:
                        filter: { kind: [grass], $zoom: { max: 16 } }
                        draw:
                            icons:
                                visible: false
                                text: { visible: false }
                    only-text-later:
                        filter: { kind: [grass], $zoom: { min: 16 } }
                        draw:
                            icons:
                                visible: false
                                text: { font: { style: italic } }

            # battlefield:
            #     filter:
            #         all:
            #             - area: true
            #             - $geometry: point
            #             - kind: [battlefield]
            #         any:
            #             # show labels for smaller landuse areas at higher zooms
            #             - { $zoom: [4],  area: { min: 3000000000 } }
            #             - { $zoom: [5],  area: { min: 3000000000 } }
            #             - { $zoom: [6],  area: { min: 500000000 } }
            #             - { $zoom: [7,8,9],  area: { min: 10000000 } }
            #             - { $zoom: [10], area: { min: 5000000 } }
            #             - { $zoom: [11], area: { min: 5000000 } }
            #             - { $zoom: [12], area: { min: 5000000 } }
            #             - { $zoom: [13], area: { min: 200000 } }
            #             - { $zoom: [14], area: { min: 50000 } }
            #             - { $zoom: { min: 15 }, area: true }
            #     draw:
            #         icons:
            #             visible: true
            #             sprite: battlefield
            #             priority: 41
            #             text:
            #                 visible: true
            #                 font:
            #                     fill: red

            beach:
                filter:
                    all:
                        - area: true
                        - $geometry: point
                        - kind: [beach]
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [10],   area: { min: 300000 } }
                        - { $zoom: [11],   area: { min: 100000 } }
                        - { $zoom: [12],   area: { min: 50000 } }
                        - { $zoom: [13],   area: { min: 50000 } }
                        - { $zoom: [14],   area: { min: 20000 } }
                        - { $zoom: [15],   area: { min: 10000 } }
                        - { $zoom: [16],   area: { min: 1000 } }
                        - { $zoom: { min: 17 } }
                draw:
                    icons:
                        visible: true
                        interactive: true
                        sprite: beach
                        text:
                            visible: true
                            interactive: true
                            font:
                                fill: [0.290,0.902,0.910]
            airport:
                filter:
                    all:
                        - kind: [airport, aerodrome]
                        - area: true
                        - $geometry: point
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [9],  area: { min: 10000000 } }
                        - { $zoom: [10], area: { min: 10000000 } }
                        - { $zoom: [11], area: { min: 5000000 } }
                        - { $zoom: [12], area: { min: 5000000 } }
                        - { $zoom: [13], area: { min: 500000 } }
                        - { $zoom: [14], area: { min: 20000 } }
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [15], area: { min: 10000 } }
                        - { $zoom: [16], area: { min: 5000 } }
                        - { $zoom: [17], area: { min: 2000 } }
                        - { $zoom: { min: 18 } }
                draw:
                    icons:
                        sprite: airport
                        visible: true
                        priority: 42
                        text:
                            visible: true
                            priority: 41
                            text_source: global.ux_language_text_source_iata
                            font:
                                fill: [0.290,0.902,0.910]

                early:
                    filter: { $zoom: [9,10,11] }
                    draw: { icons: { text: { text_source: iata, font: { size: 11px } } } }
                early2:
                    filter: { $zoom: { min: 12, max: 14 } }
                    draw: { icons: { text: { font: { size: 11px } } } }

            text_colors:
                restaurant:
                    filter: { kind: [restaurant,cafe,fast_food,bakery] }
                    draw: { icons: { text: { font: { fill: [0.212,1.000,0.882] } } } }
                hotel:
                    filter: { kind: hotel }
                    draw: { icons: { text: { font: { fill: [0.851,0.643,0.990] } } } }
                pharmacy:
                    filter: { kind: pharmacy }
                    draw: { icons: { text: { font: { fill: [0.451,1.000,0.302] } } } }
                hospital:
                    filter: { kind: hospital }
                    draw: { icons: { text: { font: { fill: [1.000,1.000,1.000] } } } }
                courthouse:
                    filter: { kind: [courthouse,library,museum,post_office] }
                    draw: { icons: { text: { font: { fill: [0.149,0.871,0.992] } } } }
                school:
                    filter: { kind: school }
                    draw: { icons: { text: { font: { fill: [1.000,0.634,0.757] } } } }



            university:
                filter:
                    all:
                        - kind: [university, college]
                        - area: true
                        - $geometry: point
                        - not: { $layer: buildings }
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [9],   area: { min: 10000000 } }
                        - { $zoom: [10], area: { min: 5000000 } }
                        - { $zoom: [11], area: { min: 2000000 } }
                        - { $zoom: [12], area: { min: 500000 } }
                        - { $zoom: [13], area: { min: 100000 } }
                        - { $zoom: [14], area: { min: 100000 } }
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [15], area: { min: 40000 } }
                        - { $zoom: [16], area: { min: 5000 } }
                        - { $zoom: [17], area: { min: 2000 } }
                        - { $zoom: { min: 18 } }
                visible: true
                draw:
                    icons:
                        sprite: college-university
                        visible: true
                        priority: 41
                        text:
                            visible: true
                            font:
                                fill: [0.953,0.604,0.608]
                early:
                    filter: { $zoom: { max: 12 } }
                    draw: { text: { visible: false } }
                early2:
                    filter: { $zoom: { min: 12, max: 14 } }
                    draw: { icons: { text: { size: 11px } } }
            school:
                filter:
                    all:
                        - kind: [school, kindergarten]
                        - area: true
                        - $geometry: point
                        - not: { $layer: buildings }
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [13], area: { min: 100000 } }
                        - { $zoom: [14], area: { min: 50000 } }
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [15], area: { min: 10000 } }
                        - { $zoom: [16], area: { min: 5000 } }
                        - { $zoom: [17], area: { min: 2000 } }
                        - { $zoom: { min: 18, area: true } }
                visible: true
                draw:
                    icons:
                        sprite: school
                        visible: true
                        priority: 41
                        text:
                            visible: true
                            font:
                                fill: [1.000,0.634,0.757]

            winter_sports:
                filter:
                    all:
                        - kind: winter_sports
                        - area: true
                        - $geometry: point
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [10], area: { min: 5000000 } }
                        - { $zoom: [11], area: { min: 2000000 } }
                        - { $zoom: [12], area: { min: 500000 } }
                        - { $zoom: [13], area: { min: 100000 } }
                        - { $zoom: [14], area: { min: 100000 } }
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [15], area: { min: 40000 } }
                        - { $zoom: [16], area: { min: 5000 } }
                        - { $zoom: [17], area: { min: 2000 } }
                        - { $zoom: { min: 18 } }
                draw:
                    icons:
                        sprite: ski-area
                        visible: true
                        priority: 41
                        text:
                            visible: true
                            font:
                                fill: [0.290,0.902,0.910]
                early:
                    filter: { $zoom: { max: 14 } }
                    draw: { icons: { text: { font: { size: 10px } } } }
            tourism-related:
                filter:
                    all:
                        - kind: [zoo, theme_park, resort, aquarium, winery, maze, stadium, enclosure, animal]
                        - area: true
                        - $geometry: point
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: { min: 11 }, area: { min: 400000 } }
                        - { $zoom: { min: 12 }, area: { min: 200000 } }
                        - { $zoom: { min: 13 }, area: { min: 50000 } }
                        - { $zoom: { min: 14 }, area: { min: 20000 } }
                        - { $zoom: { min: 15 }, area: { min: 10000 } }
                        - { $zoom: { min: 15 }, area: { min: 2000 } }
                        - { $zoom: { min: 16 }, area: true }
                draw:
                    icons:
                        sprite: function() { return feature.kind; }
                        sprite_default: generic
                        visible: true
                        priority: 43
                        text:
                            visible: true
                            priority: 44
                            font:
                                fill: [0.290,0.902,0.910]
                enclosure:
                    filter: { kind: [enclosure, animal] }
                    draw:
                        icons:
                            visible: false
                            sprite_default: dot-black
                        text:
                            text_wrap: 10
                            font:
                                style: italic
                                weight: 400
                early-sizing:
                    filter: { $zoom: { max: 14 } }
                    draw: { icons: { text: { size: 11px } } }
            playgrounds_allotments_attraction_landmark_supermarket:
                filter:
                    all:
                        - kind: [playground, allotments, attraction, landmark, supermarket]
                        - area: true
                        - $geometry: point
                    any:
                        - { $zoom: [15], area: { min: 600 } }
                        - { $zoom: [16], area: { min: 300 } }
                        - { $zoom: { min: 17 }, area: true }
                draw:
                    icons:
                        visible: true
                        priority: 41
                        text:
                            visible: true
                            font:
                                fill: [0.290,0.902,0.910]
                                size: 10px
                attraction:
                    filter: { kind: [attraction] }
                    draw:
                        icons:
                            sprite: attraction
                landmark:
                    filter: { kind: [landmark] }
                    draw:
                        icons:
                            sprite: landmark
            glacier:
                filter:
                    all:
                        - kind: glacier
                        - area: true
                        - $geometry: point
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [10],    area: { min: 20000000 } }
                        - { $zoom: [11],    area: { min: 5000000 } }
                        - { $zoom: [12],    area: { min: 2000000 } }
                        - { $zoom: [13],    area: { min: 500000 } }
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: { min: 14 } }
                draw:
                    icons:
                        visible: false
                    text:
                        visible: true
                        priority: 44
                        interactive: true
                        text_wrap: 10
                        font:
                            fill: [0.290,0.902,0.910]

            station-train-subway:
                filter: { kind: [station, train-station, train_station], $zoom: { min: 11 } }
                visible: true
                draw:
                    icons:
                        visible: true
                        sprite: train-station
                        size: [[13, 12px], [14, 12px], [15, 16px], [17, 18px], [18, 20px]]
                        priority: 42
                        text:
                            visible: true
                            font: 
                                fill: [0.965,0.929,0.341]
                                size: 10px
                low-priority-early:
                    filter: { kind_tile_rank: { min: 5 }, $zoom: { min: 0, max: 13 } }
                    draw:
                        icons:
                            visible: false
                            text: { visible: false }
                low-priority-early-z13:
                    filter: { kind_tile_rank: { min: 5 }, $zoom: [13] }
                    draw:
                        icons:
                            visible: false
                            text: { visible: false }
                low-priority-early-z14:
                    filter: { kind_tile_rank: { min: 7 }, $zoom: [14] }
                    draw:
                        icons:
                            text: { visible: false }

            landuse-labels-not-any-above:
                filter:
                    all:
                        - $zoom: { min: 6 }
                        - area: true
                        - $geometry: point
                        - not: { kind: [park, national_park, "park or protected land", battlefield, conservation, protected_area, nature_reserve, forest, grass, beach, airport, aerodrome, university, college, school, kindergarten, winter_sports, zoo, theme_park, resort, aquarium, winery, maze, stadium, playground, allotments, attraction, landmark, glacier, station] }
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [5,6,7], area: { min: 5000000000 } }
                        - { $zoom: [8],     area: { min: 1600000000 } }
                        - { $zoom: [9],     area: { min: 400000000 } }
                        - { $zoom: [10],    area: { min: 100000000 } }
                        - { $zoom: [11],    area: { min: 25000000 } }
                        - { $zoom: [12],    area: { min: 5000000 } }
                        - { $zoom: [13],    area: { min: 1000000 } }
                        - { $zoom: [14],    area: { min: 100000 } }
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [15],    area: { min: 5000 } }
                        - { $zoom: [16],    area: { min: 2000 } }
                        - { $zoom: { min: 17 }, area: true }
                draw:
                    icons:
                        sprite: function() { return feature.kind; }
                        sprite_default: generic
                        visible: true
                        priority: 43
                        text:
                            visible: true
                            font:
                                fill: [0.471,0.992,0.353]
                                size: 10px
                early-sizing:
                    filter: { $zoom: { max: 14 } }
                    draw: { text: { size: 10px } }
                building-like:
                    filter: { kind: [commercial,residential,warehouse,public,dormitory], osm_relation: false }
                    draw:
                        icons:
                            sprite: building
                hide-till-later:
                    filter: { kind: [pedestrian,common,railway,ship,houseboat,common,grass,wetland,pitch], $zoom: { max: 17 } }
                    draw:
                        icons:
                            visible: false
                            text: { visible: false }
                only-text-later:
                    filter: { kind: [pedestrian,common,railway,ship,houseboat,common,grass,wetland,pitch], $zoom: { min: 17 } }
                    draw:
                        icons:
                            visible: false
                            text: { font: { style: italic } }
                # burial_vault-early:
                #     filter: { kind: [burial_vault], $zoom: { max: 19 } }
                #     draw:
                #         icons:
                #             visible: false
                #             text:  { visible: false }

            text_label_only_no_icon:
                glaciers-pois:
                    filter: { $zoom: { min: 14 }, kind: glacier, area: false }
                    draw:
                        icons:
                            visible: false
                            text:
                                visible: false
                        text:
                            visible: false
                            priority: 45
                            interactive: true
                            text_wrap: 10
                            font:
                                fill: [0.290,0.902,0.910]
            icon_resizing:
                tram-stop:
                    filter: { kind: tram_stop, $zoom: { min: 15 } }
                    draw:
                        icons:
                            size: [[13, 12px], [16, 18px]]
                            #text:
                            #    offset: [[13, [0, 6px]], [16, [0, 9px]]]
            icon_sourcing_from_not_kind:
                # prefix with "z-" here to allow Tangram to sort the generic style 1st, allowing more specific religion tags to win later
                z-spiritual-center:
                    filter:
                        all:
                            - kind: [spiritual_center, spiritual-center, place_of_worship, wayside_chapel]
                    draw:   { icons: { sprite: spiritual-center } }
                z-spiritual-center-church:
                    filter: { kind: [spiritual_center, spiritual-center, place_of_worship, wayside_chapel], religion: christian }
                    draw:   { icons: { sprite: church } }
                z-spiritual-center-synagogue:
                    filter: { kind: [spiritual_center, spiritual-center, place_of_worship, wayside_chapel], religion: jewish }
                    draw:   { icons: { sprite: synagogue } }
                z-spiritual-center-buddhist:
                    filter: { kind: [spiritual_center, spiritual-center, place_of_worship, wayside_chapel], religion: buddhist }
                    draw:   { icons: { sprite: buddhism } }
                z-spiritual-center-mosque:
                    filter: { kind: [spiritual_center, spiritual-center, place_of_worship, wayside_chapel], religion: muslim }
                    draw:   { icons: { sprite: mosque } }

            bus-stop-bus-station-labels:
                filter:
                    kind: [bus_stop, bus_station]
                draw:
                    icons:
                        text:
                            visible: true
                            font:
                                fill: [0.290,0.902,0.910]
                bus-stop-early1:
                    filter:
                        kind: [bus_stop]
                        $zoom: { max: 18 }
                    draw:
                        icons:
                            visible: false
                bus_stop-early2:
                    filter:
                        kind: [bus_stop]
                        $zoom: { max: 19 }
                    draw:
                        icons:
                            size: [[13, 8px], [19, 18px]]
                            text:
                                visible: false
            college-university:
                filter: { kind: [university, college, college-university], area: false }
                draw:   { icons: { sprite: college-university } }

            hide_early_features:
                # university-poi:
                #     filter: { kind: [university, college], area: false, $zoom: { max: 16 } }
                #     draw:
                #         icons:
                #             visible: false
                #             text:  { visible: false }
                # office-early:
                #     filter:
                #         any:
                #             - { kind: [insurance, office, company], $zoom: [15], area: { max: 10000 } }
                #             - { kind: [insurance, office, company], $zoom: [16], area: { max: 5000 } }
                #     draw:
                #         icons:
                #             visible: false
                #             text:  { visible: false }
                bank-early:
                    filter: { kind: [bank], $zoom: { max: 17 } }
                    draw:
                        icons:
                            visible: false
                            text:  { visible: false }
                post-office-early:
                    filter: { kind: [post_office], $zoom: { max: 14 } }
                    draw:
                        icons:
                            visible: false
                            text:  { visible: false }
                atm-early:
                    filter: { kind: [atm], $zoom: [17] }
                    draw:
                        icons:
                            visible: false
                            text:  { visible: false }
                bicycle-parking-early:
                    filter: { kind: [bicycle_parking], $zoom: { max: 19 } }
                    draw:
                        icons:
                            visible: false
                            text:  { visible: false }
                # yes-early:
                #     filter: { kind: [yes], $zoom: { max: 18 } }
                #     draw:
                #         icons:
                #             visible: false
                #             text:  { visible: false }
                peak-early:
                    filter: { kind: [peak], $zoom: { max: 16 } }
                    draw:
                        icons:
                            visible: false
                            text:  { visible: false }
                drinking-water-early:
                    filter: { kind: [drinking_water], $zoom: { max: 18 } }
                    draw:
                        icons:
                            visible: false
                            text:  { visible: false }
                # memorial-early:
                #     filter: { kind: [memorial], $zoom: { max: 13 } }
                #     draw:
                #         icons:
                #             visible: false
                #             text:  { visible: false }
                animal-points-early:
                    filter: { kind: [animal], area: false, $zoom: { max: 18 } }
                    draw:
                        icons:
                            visible: false
                            text:  { visible: false }
                parking-labels-early:
                    filter:
                        kind: [parking]
                        $zoom: { max: 18 }
                    draw:
                        icons:
                            visible: false
                            text:
                                visible: false
                # landuse-funky:
                #     filter: { kind: [commercial, residential, wood], $zoom: { max: 17 } }
                #     draw:
                #         icons:
                #             text:
                #                 visible: false
                car-sharing:
                    filter: { kind: car_sharing }
                    icons-early:
                        filter: { $zoom: { max: 17 } }
                        draw:
                            icons:
                                visible: false
                    text-labels-early:
                        filter: { $zoom: { max: 19 } }
                        draw:
                            icons:
                                text:
                                    visible: false
                tower:
                    filter: { kind: [tower], label_placement: yes }
                    draw:
                        icons:
                            visible: false
                            text:
                                font:
                                    style: italic
                tram-stop-early:
                    filter: { kind: tram_stop, $zoom: { max: 15 } }
                    draw:
                        icons:
                            visible: false
                tram-stop-early-z15:
                    filter: { kind: tram_stop, $zoom: [15] }
                    draw:
                        icons:
                            text:
                                visible: false
                # minor-z17-early:
                #     filter:
                #         kind: [accountant, administrative, advertising_agency, architect, association, atm, bakery, bed_and_breakfast, bicycle, bicycle_parking, bicycle_rental_station, books, butcher, car, car_repair, chalet, clothes, company, computer, consulting, convenience, doityourself, drinking_water, dry_cleaning, educational_institution, emergency_phone, employment_agency, estate_agent, fashion, financial, florist, foundation, gift, government, greengrocer, guest_house, hairdresser, hostel, hotel, insurance, it, jewelry, lawyer, mast, memorial, mobile_phone, motel, newspaper, ngo, notary, optician, parking, pet, physician, playground, political_party, post_box, religion, research, subway_entrance, tax_advisor, telecommunication, telephone, theatre, therapist, toilets, traffic_signals, travel_agent, water_tower, yes]
                #         area: false
                #         $zoom: { max: 17 }
                #     draw:
                #         icons:
                #             visible: false
                #             text:  { visible: false }
                # minor-z18-early:
                #     filter:
                #         kind: [bench, waste_basket]
                #         area: false
                #         $zoom: { max: 18 }
                #     draw:
                #         icons:
                #             visible: false
                #             text:  { visible: false }

                # building-icon:
                #     filter: { kind: [building, auditorium, terminal, hangar, retirement_home, manor, recreation_center, apartments] }
                #     draw:   { icons: { sprite: building } }
                #     early:
                #         filter:
                #             any:
                #                 # show labels for smaller landuse areas at higher zooms
                #                 - { $zoom: [14], area: { max: 200000 } }
                #                 - { $zoom: [15], area: { max: 20000 } }
                #                 - { $zoom: [16], area: { max: 5000 } }
                #                 - { $zoom: [17], area: { max: 1000 } }
                #         draw:
                #             icons:
                #                 visible: false
                #                 text:
                #                     visible: false

styles:
    icons:
        base: points
        texture: pois
