layers:
    pois_and_landuse_labels:
        data: { source: mapzen, layer: [pois,landuse] }
        filter:
            all:
                - not: { kind: [building,address,farm,tree,apron,residential,commercial,industrial] }
                - $geometry: point
                # White list a few kinds to "always" show per the tile zoom inclusion, else test feature's min_zoom
                #- function() { return feature.min_zoom <= $zoom }
                - function() { if( feature.kind == 'restaurant' || feature.kind == 'landmark' || feature.kind == 'cafe' ) { return true } else { return feature.min_zoom <= $zoom } }
                - any:
                    - area: false
                      all:
                          - $zoom: { min: 12 }
                    - area: true
                      all:
                          - kind: true
        draw:
            icons:
                size: 18px
                interactive: true
                visible: global.icon_visible_pois_landuse
                priority: 65
                #buffer: 100px
                text:
                    repeat_group: abc
                    repeat_distance: 100px
                    buffer: 7px
                    text_source: global.ux_language_text_source
                    visible: false    # labels are enabled by each layer below
                    move_into_tile: false # preserves text alignment w/icons in JS
                    interactive: true
                    font:
                        family: Cairo
                        fill: [0.149,0.871,0.992]
                        size: 10px
            text:
                repeat_group: abc
                repeat_distance: 100px
                text_source: global.ux_language_text_source
                visible: false    # labels are enabled by each layer below
                move_into_tile: false # preserves text alignment w/icons in JS
                interactive: true
                priority: 66
                font:
                    family: Cairo
                    fill: [0.149,0.871,0.992]
                    size: 10px
        poi-scale-z18:
            filter: { $zoom: { min: 18 } }
            draw:
                icons:
                    size: 18px
        poi-scale-z20:
            filter: { $zoom: [20] }
            draw:
                icons:
                    size: 20px
        # poi_labels-z14:
        #     filter: { $zoom: [14] }
        #     draw: { icons: { text: { font: { size: 11px } } } }
        # poi_labels-z15:
        #     filter: { $zoom: [15,16,17] }
        #     draw: { icons: { text: { font: { size: 12px } } } }
        # poi_labels-z18:
        #     filter: { $zoom: [18,19] }
        #     draw: { icons: { text: { font: { size: 12px } } } }
        # poi_labels-z20-up:
        #     filter: { $zoom: { min: 20 } }
        #     draw: { icons: { text: { font: { size: 14px } } } }

        no-name:
            filter: { name: false }
            sports-pitch:
                filter: { kind: [grass, pitch], $geometry: point, area: true, $zoom: { min: 17 } }
                draw:
                    icons:
                        sprite: function() { return feature.sport; }
                        sprite_default: generic-sport
                        visible: global.icon_visible_pois_landuse
                        priority: 69
                        text:
                            font:
                                fill: [1.000,0.766,0.460]
                baseball:
                        filter: { sport: baseball }
                        draw:
                            icons:
                                sprite: baseball-field
                                text:
                                    font:
                                        fill: [1.000,0.766,0.460]
                basketball:
                    filter: { sport: basketball }
                    draw:
                        icons:
                            sprite: basketball-court
                            text:
                                font:
                                    fill: [1.000,0.766,0.460]
                football:
                    filter: { sport: football }
                    draw:
                        icons:
                            sprite: football-stadium
                            text:
                                font:
                                    fill: [1.000,0.766,0.460]
                hockey:
                    filter: { sport: hockey-field }
                    draw:
                        icons:
                            sprite: hockey-field
                            text:
                                font:
                                    fill: [1.000,0.766,0.460]
                soccer:
                    filter: { sport: soccer }
                    draw:
                        icons:
                            sprite: soccer-field
                            text:
                                font:
                                    fill: [1.000,0.766,0.460]
                tennis:
                    filter: { sport: tennis }
                    draw:
                        icons:
                            sprite: tennis
                            text:
                                font:
                                    fill: [1.000,0.766,0.460]
            toilets:
                filter: { kind: toilets  }
                draw: { icons: { sprite: toilets, visible: global.icon_visible_pois_landuse } }
            playground:
                filter: { kind: playground, $zoom: { min: 18 }  }
                draw: { icons: { sprite: playground, visible: global.icon_visible_pois_landuse } }
            picnic_site:
                filter: { kind: picnic_site, $zoom: { min: 18 }  }
                draw: { icons: { sprite: picnic-spot, visible: global.icon_visible_pois_landuse } }
            information:
                filter: { kind: information, $zoom: { min: 18 }  }
                draw: { icons: { sprite: information, visible: global.icon_visible_pois_landuse } }
            drinking-water:
                filter: { kind: drinking_water, $zoom: { min: 18 }  }
                draw: { icons: { sprite: drinking-water, visible: global.icon_visible_pois_landuse } }
            traffic-signal:
                filter: { kind: traffic_signals, $zoom: { min: 18 } }
                draw:   { icons: { sprite: traffic-signal, visible: global.icon_visible_pois_landuse } }
            bicycle-parking:
                filter: { kind: [bicycle_parking], $zoom: { min: 19 } }
                draw:   { icons: { sprite: bicycle-parking, visible: global.icon_visible_pois_landuse } }
            car-parking:
                filter: { kind: [parking], $zoom: { min: 17 } }
                draw:   { icons: { sprite: parking, visible: global.icon_visible_pois_landuse } }
        has-name:
            filter: { name: true }
            # match 1:1 correlations between data and sprite name
            direct-match:
                filter:
                    all:
                        - area: false
                draw:
                    icons:
                        # sprite_source: kind
                        sprite: function() { return feature.kind; }
                        visible: global.icon_visible_pois_landuse

            # add generic icon at high zoom, if direct match fails
            generic-icons:
                filter: { $zoom: { min: 18 }, area: false }
                draw:
                    icons:
                        priority: 67
                        sprite_default: generic
                        visible: global.icon_visible_pois_landuse

            # add generic icon at high zoom
            default-label-names:
                filter: { $zoom: { min: 13 }, area: false }
                draw:
                    icons:
                        text:
                            fill: [0.149,0.871,0.992]
                            visible: global.text_visible_pois_landuse
#                            priority: 68

            landuse-labels-green-areas-national-park:
                filter:
                    all:
                        - area: true
                        - $geometry: point
                        - kind: [national_park, "park or protected land"]
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [4],  area: { min: 3000000000 } }
                        - { $zoom: [5],  area: { min: 3000000000 } }
                        - { $zoom: [6],  area: { min: 500000000 } }
                        - { $zoom: [7,8,9],  area: { min: 100000000 } }
                        - { $zoom: [10], area: { min: 50000000 } }
                        - { $zoom: [11], area: { min: 25000000 } }
                        - { $zoom: [12], area: { min: 5000000 } }
                        - { $zoom: [13], area: { min: 200000 } }
                        - { $zoom: [14], area: { min: 50000 } }
                        - { $zoom: { min: 15 } }
                national-park:
                    # yosemite national park, joshua tree national park
                    filter: function() { return feature.name && ((feature.name.indexOf("National Park") > -1) || feature.name.indexOf("National Monument") > -1); }
                    #visible: true
                    draw:
                        icons:
                            visible: global.icon_visible_pois_landuse
                            sprite: park
                            size: [[7,16px],[9,18px],[10,36px]]
                            priority: 41
                            text:
                                visible: global.text_visible_pois_landuse
                                font:
                                    fill: [0.356,0.990,0.789]
                    natl-park-labels-z4-z6:
                        filter: { $zoom: [4,5,6] }
                        draw:
                            icons:
                                visible: false
                                text: { visible: false }
                    natl-park-labels-z7:
                        filter: { $zoom: [7] }
                        draw:
                            icons:
                                text: { visible: false }
                    natl-park-labels-z8:
                        filter: { $zoom: [8,9] }
                        draw:
                            icons:
                                text: { font: { size: 10px } }
                    natl-park-labels-z10:
                        filter: { $zoom: { min: 10, max: 14 } }
                        draw:
                            icons:
                                text: { font: { size: 10px } }
                    z13-parks:
                        filter: { $zoom: { min: 10 } }
                        draw:
                            icons:
                                sprite: park-xl

            landuse-labels-green-areas-not-national-park:
                filter:
                    all:
                        - area: true
                        - $geometry: point
                        - kind: [park, national_park, "park or protected land", conservation, protected_area, nature_reserve, forest, grass]
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [5],    area: { min: 10000000000 } }
                        - { $zoom: [6,7],  area: { min: 5000000000 } }
                        - { $zoom: [8],    area: { min: 1000000000 } }
                        - { $zoom: [9],    area: { min: 100000000 } }
                        - { $zoom: [10],   area: { min: 50000000 } }
                        - { $zoom: [11],   area: { min: 25000000 } }
                        - { $zoom: [12],   area: { min: 5000000 } }
                        - { $zoom: [13],   area: { min: 200000 } }
                        - { $zoom: [14],   area: { min: 50000 } }
                        - { $zoom: [15],   area: { min: 10000 } }
                        - { $zoom: [16],   area: { min: 1000 } }
                        - { $zoom: { min: 17 }, area: true }
                not-national-park:
                    filter: function() { return feature.name && !((feature.name.indexOf("National Park") > -1) || feature.name.indexOf("National Monument") > -1); }
                    draw:
                        icons:
                            visible: global.icon_visible_pois_landuse
                            sprite: park
                            priority: 41
                            text:
                                visible: global.text_visible_pois_landuse
                                font:
                                    fill: [0.356,0.990,0.789]
                    green-areas-z6:
                        # mojave national preserve
                        filter: { $zoom: [6] }
                        draw:
                            icons:
                                visible: false
                                text: { visible: false }
                    green-areas-z7:
                        filter: { $zoom: [7] }
                        draw:
                            icons:
                                visible: false
                                text: { visible: false }
                    green-areas-z8-z9:
                        filter: { $zoom: { min: 8, max: 14 } }
                        draw:
                            icons:
                                text: { font: { size: 10px } }
                    wilderness-areas-early:
                        filter: function() { return $zoom < 10 && feature.name && (feature.name.indexOf("Wilderness") > -1 || feature.name.indexOf("BLM") > -1) }
                        draw:
                            icons:
                                visible: false
                                text: { visible: false }
                    early-not-national-park:
                        filter: { not: { kind: [national_park] }, $zoom: { max: 6 } }
                        draw:
                            icons:
                                visible: false
                                text: { visible: false }
                    not-national-park:
                        filter: function() { return feature.name && !((feature.name.indexOf("National Park") > -1) || feature.name.indexOf("National Monument") > -1); }
                        # draw:
                        #     icons:
                        #         sprite: park
                        early:
                            filter: { $zoom: { max: 8 } }
                            draw:
                                icons:
                                    visible: false
                                    text: { visible: false }
                    forest:
                        filter: function() { return ( (feature.name && feature.name.indexOf("Forest") > -1) || ((feature.protect_class == 6 || feature.protect_class == '6') && feature.name.indexOf("Park") < 0) ) }
                        draw:
                            icons:
                                sprite: forest
                    hide-till-later:
                        filter: { kind: [grass], $zoom: { max: 16 } }
                        draw:
                            icons:
                                visible: false
                                text: { visible: false }
                    only-text-later:
                        filter: { kind: [grass], $zoom: { min: 16 } }
                        draw:
                            icons:
                                visible: false
                                text: { font: { style: italic } }

            # battlefield:
            #     filter:
            #         all:
            #             - area: true
            #             - $geometry: point
            #             - kind: [battlefield]
            #         any:
            #             # show labels for smaller landuse areas at higher zooms
            #             - { $zoom: [4],  area: { min: 3000000000 } }
            #             - { $zoom: [5],  area: { min: 3000000000 } }
            #             - { $zoom: [6],  area: { min: 500000000 } }
            #             - { $zoom: [7,8,9],  area: { min: 10000000 } }
            #             - { $zoom: [10], area: { min: 5000000 } }
            #             - { $zoom: [11], area: { min: 5000000 } }
            #             - { $zoom: [12], area: { min: 5000000 } }
            #             - { $zoom: [13], area: { min: 200000 } }
            #             - { $zoom: [14], area: { min: 50000 } }
            #             - { $zoom: { min: 15 }, area: true }
            #     draw:
            #         icons:
            #             visible: global.icon_visible_pois_landuse
            #             sprite: battlefield
            #             priority: 41
            #             text:
            #                 visible: global.text_visible_pois_landuse
            #                 font:
            #                     fill: red

            beach:
                filter:
                    all:
                        - area: true
                        - $geometry: point
                        - kind: [beach]
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [10],   area: { min: 300000 } }
                        - { $zoom: [11],   area: { min: 100000 } }
                        - { $zoom: [12],   area: { min: 50000 } }
                        - { $zoom: [13],   area: { min: 50000 } }
                        - { $zoom: [14],   area: { min: 20000 } }
                        - { $zoom: [15],   area: { min: 10000 } }
                        - { $zoom: [16],   area: { min: 1000 } }
                        - { $zoom: { min: 17 } }
                draw:
                    icons:
                        visible: global.icon_visible_pois_landuse
                        interactive: true
                        sprite: beach
                        text:
                            visible: global.text_visible_pois_landuse
                            interactive: true
                            font:
                                fill: [0.290,0.902,0.910]
            airport:
                filter:
                    all:
                        - kind: [airport, aerodrome]
                        - area: true
                        - $geometry: point
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [9],  area: { min: 10000000 } }
                        - { $zoom: [10], area: { min: 10000000 } }
                        - { $zoom: [11], area: { min: 5000000 } }
                        - { $zoom: [12], area: { min: 5000000 } }
                        - { $zoom: [13], area: { min: 500000 } }
                        - { $zoom: [14], area: { min: 20000 } }
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [15], area: { min: 10000 } }
                        - { $zoom: [16], area: { min: 5000 } }
                        - { $zoom: [17], area: { min: 2000 } }
                        - { $zoom: { min: 18 } }
                draw:
                    icons:
                        sprite: airport
                        visible: global.icon_visible_pois_landuse
                        priority: 41
                        size: [[10,18px],[12,28px],[13,36px]]
                        text:
                            visible: global.text_visible_pois_landuse
                            text_source: global.ux_language_text_source_iata
                            font:
                                fill: [0.977,0.830,1.000]

                early:
                    filter: { $zoom: [9,10,11,12,13,14] }
                    draw:
                        icons:
                            text:
                                text_source: iata
                                font:
                                    family: Orbitron
                                    size: 14px
                early2:
                    filter: { $zoom: { min: 15, max: 18 } }
                    draw: 
                        icons:
                            text:
                                font:
                                    family: Cairo
                                    size: 11px

                z12-airport:
                    filter: { $zoom: { min: 12 } }
                    draw:
                        icons:
                            sprite: airport-xl

            text_colors:
                restaurant:
                    filter: { kind: [restaurant,cafe,fast_food,bakery,pub,bar,ice_cream,wine,biergarten,brewery] }
                    draw: { icons: { text: { font: { fill: [0.212,1.000,0.882] } } } }
                    # draw: { icons: { text: { font: { fill: [0.174,0.830,0.732] } } } }
                hotel:
                    filter: { kind: [hotel,hostel,motel,company,office,substation,plant,generator,wastewater_plant,bench,slipway,insurance,archaeological_site] }
                    draw: { icons: { text: { font: { fill: [0.900,0.750,1.000] } } } }
                pharmacy:
                    filter: { kind: pharmacy }
                    draw: { icons: { text: { font: { fill: [0.382,0.830,0.501] } } } }
                    # draw: { icons: { text: { font: { fill: [0.512,0.790,0.435] } } } }
                hospital:
                    filter: { kind: hospital }
                    draw: { icons: { text: { font: { fill: [0.932,0.737,0.932] } } } }
                # courthouse:
                #     filter: { kind: [courthouse,library,museum,post_office,police,embassy,bank,observatory,recycling,information,bicycle_rental_station,fire_station,townhall,assisted_living,group_home,community_centre,attraction,artwork,sports_centre,historical,fitness_station,drinking_water,ngo,plumber,lawyer,it,doctors,guest_house,clinic,shelter,social_facility,government,post_box,research,aquarium,telecommunication,dentist,gate,telephone,shoemaker,childcare,atm,association,platform,foundation,stop,bicycle_parking,nursing_home,animal,level_crossing,motorcycle,swimming_area] }
                #     draw: { icons: { text: { font: { fill: [0.149,0.871,0.992] } } } }
                school:
                    filter: { kind: [school,university,kindergarten,college] }
                    draw: { icons: { text: { font: { fill: [0.461,0.885,0.980] } } } }
                    # draw: { icons: { text: { font: { fill: [0.334,0.726,0.814] } } } }
                retail:
                    filter: { kind: [books,computer,outdoor,supermarket,department_store,electronics,mall,clothes,toys,fashion,jewelry,convenience,gift,music,bicycle,alcohol,sports,florist,mobile_phone,tailor,bicycle_rental,hardware,retail,confectionery,greengrocer,doityourself,butcher] }
                    draw: { icons: { text: { font: { fill: [1.000,0.714,0.976] } } } }
                place-of-worship:
                    filter: { kind: [place_of_worship,cemetery] }
                    draw: { icons: { text: { font: { fill: [0.719,0.806,0.839] } } } }
                ferry:
                    filter: { kind: [ferry_terminal,tram_stop,subway_entrance,bus_station] }
                    draw: { icons: { text: { font: { fill: [0.965,0.929,0.341] } } } }
                theatre:
                    filter: { kind: [theatre,performing-arts,cinema] }
                    draw: { icons: { text: { font: { fill: [1.000,0.800,0.710] } } } }
                parking:
                    filter: { kind: [parking] }
                    draw: { icons: { text: { font: { fill: [1.000,0.714,0.976] } } } }
                stadium:
                    filter: { kind: [stadium,fitness,golf_course,winter_sports,recreation_ground] }
                    draw: { icons: { text: { font: { fill: [1.000,0.766,0.460] } } } }
                memorial:
                    filter: { kind: [memorial,monument] }
                    draw: { icons: { text: { font: { fill: [0.817,0.752,0.857] } } } }
                bridge:
                    filter: { kind: [bridge,toilets,fuel,optician,car,car_repair,viewpoint,car_sharing,landmark,quarry,lighthouse] }
                    draw: { icons: { text: { font: { fill: [0.851,0.796,0.851] } } } }
                garden:
                    filter: { kind: [garden,playground,zoo,camp_site,marina,peak,volcano,theme_park,water_park,caravan_site,pier,fort,castle,spring,beach] }
                    draw: { icons: { text: { font: { fill: [0.345,0.953,0.769] } } } }
                vet:
                    filter: { kind: [veterinary,pet,pet_store] }
                    draw: { icons: { text: { font: { fill: [0.838,0.815,0.970] } } } }
                hairdresser:
                    filter: { kind: [hairdresser,laundry,dry_cleaning] }
                    draw: { icons: { text: { font: { fill: [0.988,0.851,0.820] } } } }
                airport:
                    filter: { kind: [aerodrome] }
                    draw:
                        icons:
                            text:
                                font:
                                    fill: [0.977,0.830,1.000]

            university:
                filter:
                    all:
                        - kind: [university, college]
                        - area: true
                        - $geometry: point
                        - not: { $layer: buildings }
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [9],   area: { min: 10000000 } }
                        - { $zoom: [10], area: { min: 5000000 } }
                        - { $zoom: [11], area: { min: 2000000 } }
                        - { $zoom: [12], area: { min: 500000 } }
                        - { $zoom: [13], area: { min: 250000 } }
                        - { $zoom: [14], area: { min: 100000 } }
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [15], area: { min: 40000 } }
                        - { $zoom: [16], area: { min: 5000 } }
                        - { $zoom: [17], area: { min: 2000 } }
                        - { $zoom: { min: 18 } }
                #visible: true
                draw:
                    icons:
                        sprite: college-university
                        visible: global.icon_visible_pois_landuse
                        priority: 41
                        text:
                            visible: global.text_visible_pois_landuse
                            font:
                                fill: [0.530,0.835,1.000]
                early:
                    filter: { $zoom: { max: 13 } }
                    draw: { icons: { text: { visible: false } } }
                early2:
                    filter: { $zoom: { min: 13, max: 14 } }
                    draw: { icons: { text: { size: 11px } } }
            school:
                filter:
                    all:
                        - kind: [school, kindergarten]
                        - area: true
                        - $geometry: point
                        - not: { $layer: buildings }
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [13], area: { min: 100000 } }
                        - { $zoom: [14], area: { min: 50000 } }
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [15], area: { min: 12000 } }
                        - { $zoom: [16], area: { min: 5000 } }
                        - { $zoom: [17], area: { min: 2000 } }
                        - { $zoom: { min: 18}, area: true }
                #visible: true
                draw:
                    icons:
                        sprite: school
                        visible: global.icon_visible_pois_landuse
                        priority: 41
                        text:
                            visible: global.text_visible_pois_landuse
                            font:
                                fill: [0.530,0.835,1.000]
                early:
                    filter: { $zoom: 13 }
                    draw:
                        icons:
                            visible: false
                            text:
                                visible: false
                early2:
                    filter: { $zoom: { max: 15 } }
                    draw: { icons: { text: { visible: false } } }

            golf-course:
                filter:
                    all:
                        - kind: golf_course
                        - area: true
                        - $geometry: point
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [10],   area: { min: 2000000 } }
                        - { $zoom: [11],   area: { min: 2000000 } }
                        - { $zoom: [12],   area: { min: 2000000 } }
                        - { $zoom: [13],   area: { min: 1000000 } }
                        - { $zoom: [14],   area: { min: 500000 } }
                        - { $zoom: [15],   area: { min: 250000 } }
                        - { $zoom: [16],   area: { min: 10000 } }
                        - { $zoom: { min: 17 } }
                draw:
                    icons:
                        sprite: golf_course
                        visible: global.icon_visible_pois_landuse
                        priority: 41
                        text:
                            visible: global.text_visible_pois_landuse
                            font:
                                fill: [1.000,0.766,0.460]
                early:
                    filter: { $zoom: { max: 12 } }
                    draw:
                        icons:
                            visible: false
                            text: 
                                visible: false
                early2:
                    filter: { $zoom: { max: 14 } }
                    draw: { icons: { text: { visible: false } } }

            winter_sports:
                filter:
                    all:
                        - kind: winter_sports
                        - area: true
                        - $geometry: point
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [10], area: { min: 5000000 } }
                        - { $zoom: [11], area: { min: 2000000 } }
                        - { $zoom: [12], area: { min: 500000 } }
                        - { $zoom: [13], area: { min: 100000 } }
                        - { $zoom: [14], area: { min: 100000 } }
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [15], area: { min: 40000 } }
                        - { $zoom: [16], area: { min: 5000 } }
                        - { $zoom: [17], area: { min: 2000 } }
                        - { $zoom: { min: 18 } }
                draw:
                    icons:
                        sprite: ski-area
                        visible: global.icon_visible_pois_landuse
                        priority: 41
                        text:
                            visible: global.text_visible_pois_landuse
                            font:
                                fill: [0.290,0.902,0.910]
                early:
                    filter: { $zoom: { max: 14 } }
                    draw: { icons: { text: { font: { size: 10px } } } }
            tourism-related:
                filter:
                    all:
                        - kind: [zoo, theme_park, resort, aquarium, winery, maze, stadium, enclosure, animal]
                        - area: true
                        - $geometry: point
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: { min: 11 }, area: { min: 400000 } }
                        - { $zoom: { min: 12 }, area: { min: 200000 } }
                        - { $zoom: { min: 13 }, area: { min: 50000 } }
                        - { $zoom: { min: 14 }, area: { min: 20000 } }
                        - { $zoom: { min: 15 }, area: { min: 10000 } }
                        - { $zoom: { min: 15 }, area: { min: 2000 } }
                        - { $zoom: { min: 16 }, area: true }
                draw:
                    icons:
                        sprite: function() { return feature.kind; }
                        sprite_default: generic
                        visible: global.icon_visible_pois_landuse
                        priority: 43
                        text:
                            visible: global.text_visible_pois_landuse
                            priority: 44
                            font:
                                fill: [0.530,0.835,1.000]
                enclosure:
                    filter: { kind: [enclosure, animal] }
                    draw:
                        icons:
                            visible: false
                            sprite_default: dot-black
                        text:
                            text_wrap: 10
                            font:
                                style: italic
                                weight: 400
                early-sizing:
                    filter: { $zoom: { max: 14 } }
                    draw: { icons: { text: { size: 11px } } }
            playgrounds_allotments_attraction_landmark_supermarket:
                filter:
                    all:
                        - kind: [playground, allotments, attraction, landmark, supermarket]
                        - area: true
                        - $geometry: point
                    any:
                        - { $zoom: [15], area: { min: 600 } }
                        - { $zoom: [16], area: { min: 300 } }
                        - { $zoom: { min: 17 }, area: true }
                draw:
                    icons:
                        visible: global.icon_visible_pois_landuse
                        priority: 41
                        text:
                            visible: global.text_visible_pois_landuse
                            font:
                                fill: [0.290,0.902,0.910]
                                size: 10px
                attraction:
                    filter: { kind: [attraction] }
                    draw:
                        icons:
                            sprite: attraction
                landmark:
                    filter: { kind: [landmark] }
                    draw:
                        icons:
                            sprite: landmark
            glacier:
                filter:
                    all:
                        - kind: glacier
                        - area: true
                        - $geometry: point
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [10],    area: { min: 20000000 } }
                        - { $zoom: [11],    area: { min: 5000000 } }
                        - { $zoom: [12],    area: { min: 2000000 } }
                        - { $zoom: [13],    area: { min: 500000 } }
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: { min: 14 } }
                draw:
                    icons:
                        visible: false
                    text:
                        visible: global.text_visible_pois_landuse
                        priority: 44
                        interactive: true
                        text_wrap: 10
                        font:
                            fill: [0.290,0.902,0.910]

            station-train-subway:
                filter: { kind: station, $zoom: { min: 11 } }
                #visible: true
                draw:
                    icons:
                        visible: global.icon_visible_pois_landuse
                        sprite: train-station
                        size: [[13, 12px], [14, 12px], [15, 16px], [17, 18px], [18, 30px], [19, 36px]]
                        priority: 42
                        text:
                            visible: global.text_visible_pois_landuse
                            font: 
                                fill: [0.965,0.929,0.341]
                                size: 10px
                high-priority-early:
                    filter: { kind_tile_rank: { max: 4 }, $zoom: { min: 0, max: 13 } }
                    draw:
                        icons:
                            text: { visible: false }
                low-priority-early:
                    filter: { kind_tile_rank: { min: 4 }, $zoom: { min: 0, max: 13 } }
                    draw:
                        icons:
                            visible: false
                            text: { visible: false }
                high-priority-early-z13:
                    filter: { kind_tile_rank: { min: 2 }, $zoom: [13] }
                    draw:
                        icons:
                            text: { visible: false }
                low-priority-early-z13:
                    filter: { kind_tile_rank: { min: 4 }, $zoom: [13] }
                    draw:
                        icons:
                            visible: false
                            text: { visible: false }
                low-priority-early-z14:
                    filter: { kind_tile_rank: { min: 4 }, $zoom: [14] }
                    draw:
                        icons:
                            text: { visible: false }
                z18-stations:
                    filter: { $zoom: { min: 18 } }
                    draw:
                        icons:
                            sprite: train-station-xl

            #icon_sourcing_from_not_kind:
                # prefix with "z-" here to allow Tangram to sort the generic style 1st, allowing more specific religion tags to win later
            z-spiritual-center:
                filter: { kind: [spiritual_center, place_of_worship, wayside_chapel] }
                draw:
                    icons:
                        sprite: function() { return feature.religion; }
                        sprite: spiritual-center
                        #visible: global.icon_visible_pois_landuse
                        priority: 42
                        text:
                            #visible: global.text_visible_pois_landuse
                            font:
                                fill: [1.000,0.766,0.460]
                                size: 10px
                church:
                    filter: { religion: christian }
                    draw:   { icons: { sprite: church } }
                synagogue:
                    filter: { religion: jewish }
                    draw:   { icons: { sprite: synagogue } }
                buddhist:
                    filter: { religion: buddhist }
                    draw:   { icons: { sprite: buddhism } }
                mosque:
                    filter: { religion: muslim }
                    draw:   { icons: { sprite: mosque } }

                z-hide-small-early-spiritual-center:
                    filter:
                        all:
                            - area: true
                            - $geometry: point
                        any:
                            # show labels for smaller landuse areas at higher zooms
                            - $zoom: { max: 13 }
                            - { $zoom: [13],    area: { max: 10000 } }
                            - { $zoom: [14],    area: { max: 4000 } }
                            - { $zoom: [15],    area: { max: 3000 } }
                    draw:
                        icons: 
                            visible: false
                            text:
                                visible: false
                z-show-small-early-spiritual-center:
                    filter:
                        all:
                            - area: true
                            - $geometry: point
                        any:
                            # show labels for smaller landuse areas at higher zooms
                            - { $zoom: [13],    area: { min: 10000 } }
                            - { $zoom: [14],    area: { min: 4000 } }
                            - { $zoom: [15],    area: { min: 3000 } }
                    draw:
                        icons: 
                            visible: global.icon_visible_pois_landuse
                            text:
                                visible: global.text_visible_pois_landuse

                z-later-text:
                    filter: { $zoom: { min: 16 } }
                    draw:
                        icons:
                            visible: global.icon_visible_pois_landuse
                            text:
                                visible: global.text_visible_pois_landuse
            landuse-labels-not-any-above:
                filter:
                    all:
                        - $zoom: { min: 6 }
                        - area: true
                        - $geometry: point
                        - not: { kind: [park, national_park, "park or protected land", battlefield, conservation, protected_area, nature_reserve, forest, grass, beach, airport, aerodrome, university, college, school, kindergarten, winter_sports, zoo, theme_park, resort, aquarium, winery, maze, stadium, playground, allotments, attraction, landmark, glacier, station, spiritual_center, place_of_worship, wayside_chapel] }
                    any:
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [5,6,7], area: { min: 5000000000 } }
                        - { $zoom: [8],     area: { min: 1600000000 } }
                        - { $zoom: [9],     area: { min: 400000000 } }
                        - { $zoom: [10],    area: { min: 100000000 } }
                        - { $zoom: [11],    area: { min: 25000000 } }
                        - { $zoom: [12],    area: { min: 5000000 } }
                        - { $zoom: [13],    area: { min: 1000000 } }
                        - { $zoom: [14],    area: { min: 100000 } }
                        # show labels for smaller landuse areas at higher zooms
                        - { $zoom: [15],    area: { min: 5000 } }
                        - { $zoom: [16],    area: { min: 2000 } }
                        - { $zoom: { min: 17 }, area: true }
                draw:
                    icons:
                        sprite: function() { return feature.kind; }
                        sprite_default: generic
                        visible: global.icon_visible_pois_landuse
                        priority: 43
                        text:
                            visible: global.text_visible_pois_landuse
                            font:
                                # default area text color
                                # (versus specific area text colors above, 
                                #  and no-area text colors in style's root draw section)
                                fill: [0.149,0.871,0.992]
                                size: 10px
                early-sizing:
                    filter: { $zoom: { max: 14 } }
                    draw: { text: { size: 10px } }
                building-like:
                    filter: { kind: [commercial,residential,warehouse,public,dormitory], osm_relation: false }
                    draw:
                        icons:
                            sprite: building
                hide-till-later:
                    filter: { kind: [pedestrian,common,railway,ship,houseboat,common,grass,wetland,pitch], $zoom: { max: 17 } }
                    draw:
                        icons:
                            visible: false
                            text: { visible: false }
                only-text-later:
                    filter: { kind: [pedestrian,common,railway,ship,houseboat,common,grass,wetland,pitch], $zoom: { min: 17 } }
                    draw:
                        icons:
                            visible: false
                            text: { font: { style: italic } }
                # burial_vault-early:
                #     filter: { kind: [burial_vault], $zoom: { max: 19 } }
                #     draw:
                #         icons:
                #             visible: false
                #             text:  { visible: false }

                sports-pitch:
                    filter: { kind: [grass, pitch], $zoom: { min: 17 } }
                    draw:
                        icons:
                            sprite: function() { return feature.sport; }
                            sprite_default: generic-sport
                            visible: global.icon_visible_pois_landuse
                            priority: 69
                            text:
                                font:
                                    fill: [1.000,0.766,0.460]
                    baseball:
                        filter: { sport: baseball }
                        draw:
                            icons:
                                sprite: baseball-field
                                text:
                                    font:
                                        fill: [1.000,0.766,0.460]
                    basketball:
                        filter: { sport: basketball }
                        draw:
                            icons:
                                sprite: basketball-court
                                text:
                                    font:
                                        fill: [1.000,0.766,0.460]
                    football:
                        filter: { sport: football }
                        draw:
                            icons:
                                sprite: football-stadium
                                text:
                                    font:
                                        fill: [1.000,0.766,0.460]
                    hockey:
                        filter: { sport: hockey-field }
                        draw:
                            icons:
                                sprite: hockey-field
                                text:
                                    font:
                                        fill: [1.000,0.766,0.460]
                    soccer:
                        filter: { sport: soccer }
                        draw:
                            icons:
                                sprite: soccer-field
                                text:
                                    font:
                                        fill: [1.000,0.766,0.460]
                    tennis:
                        filter: { sport: tennis }
                        draw:
                            icons:
                                sprite: tennis
                                text:
                                    font:
                                        fill: [1.000,0.766,0.460]

            text_label_only_no_icon:
                glaciers-pois:
                    filter: { $zoom: { min: 14 }, kind: glacier, area: false }
                    draw:
                        icons:
                            visible: false
                            text:
                                visible: false
                        text:
                            visible: false
                            priority: 45
                            interactive: true
                            text_wrap: 10
                            font:
                                fill: [0.290,0.902,0.910]
            icon_resizing:
                tram-stop:
                    filter: { kind: tram_stop, $zoom: { min: 15 } }
                    draw:
                        icons:
                            size: [[13, 12px], [16, 18px]]
                            #text:
                            #    offset: [[13, [0, 6px]], [16, [0, 9px]]]

            bus-stop-bus-station-labels:
                filter:
                    kind: [bus_stop, bus_station]
                draw:
                    icons:
                        text:
                            visible: global.text_visible_pois_landuse
                            font:
                                fill: [0.965,0.929,0.341]
                bus-stop-early1:
                    filter:
                        kind: [bus_stop]
                        $zoom: { max: 18 }
                    draw:
                        icons:
                            visible: false
                bus_stop-early2:
                    filter:
                        kind: [bus_stop]
                        $zoom: { max: 19 }
                    draw:
                        icons:
                            size: [[13, 8px], [18, 15px], [19,18px]]
                            text:
                                visible: false
            college-university:
                filter: { kind: [university, college, college-university], area: false }
                draw:   { icons: { sprite: college-university } }

            hide_early_features:
                # university-poi:
                #     filter: { kind: [university, college], area: false, $zoom: { max: 16 } }
                #     draw:
                #         icons:
                #             visible: false
                #             text:  { visible: false }
                # office-early:
                #     filter:
                #         any:
                #             - { kind: [insurance, office, company], $zoom: [15], area: { max: 10000 } }
                #             - { kind: [insurance, office, company], $zoom: [16], area: { max: 5000 } }
                #     draw:
                #         icons:
                #             visible: false
                #             text:  { visible: false }
                bank-early:
                    filter: { kind: [bank], $zoom: { max: 17 } }
                    draw:
                        icons:
                            visible: false
                            text:  { visible: false }
                post-office-early:
                    filter: { kind: [post_office], $zoom: { max: 14 } }
                    draw:
                        icons:
                            visible: false
                            text:  { visible: false }
                atm-early:
                    filter: { kind: [atm], $zoom: [17] }
                    draw:
                        icons:
                            visible: false
                            text:  { visible: false }
                bicycle-parking-early:
                    filter: { kind: [bicycle_parking], $zoom: { max: 19 } }
                    draw:
                        icons:
                            visible: false
                            text:  { visible: false }
                # yes-early:
                #     filter: { kind: [yes], $zoom: { max: 18 } }
                #     draw:
                #         icons:
                #             visible: false
                #             text:  { visible: false }
                peak-early:
                    filter: { kind: [peak], $zoom: { max: 16 } }
                    draw:
                        icons:
                            visible: false
                            text:  { visible: false }
                drinking-water-early:
                    filter: { kind: [drinking_water], $zoom: { max: 18 } }
                    draw:
                        icons:
                            visible: false
                            text:  { visible: false }
                # memorial-early:
                #     filter: { kind: [memorial], $zoom: { max: 13 } }
                #     draw:
                #         icons:
                #             visible: false
                #             text:  { visible: false }
                animal-points-early:
                    filter: { kind: [animal], area: false, $zoom: { max: 18 } }
                    draw:
                        icons:
                            visible: false
                            text:  { visible: false }
                parking-labels-early:
                    filter:
                        kind: [parking]
                        $zoom: { max: 18 }
                    draw:
                        icons:
                            visible: false
                            text:
                                visible: false
                # landuse-funky:
                #     filter: { kind: [commercial, residential, wood], $zoom: { max: 17 } }
                #     draw:
                #         icons:
                #             text:
                #                 visible: false
                car-sharing:
                    filter: { kind: car_sharing }
                    icons-early:
                        filter: { $zoom: { max: 17 } }
                        draw:
                            icons:
                                visible: false
                    text-labels-early:
                        filter: { $zoom: { max: 19 } }
                        draw:
                            icons:
                                text:
                                    visible: false
                tower:
                    filter: { kind: [tower], label_placement: yes }
                    draw:
                        icons:
                            visible: false
                            text:
                                font:
                                    style: italic
                tram-stop-early:
                    filter: { kind: tram_stop, $zoom: { max: 15 } }
                    draw:
                        icons:
                            visible: false
                tram-stop-early-z15:
                    filter: { kind: tram_stop, $zoom: [15] }
                    draw:
                        icons:
                            text:
                                visible: false
                sports-pitch:
                    filter: { kind: [grass, pitch], $zoom: { min: 17 } }
                    draw:
                        icons:
                            sprite: function() { return feature.sport; }
                            visible: global.icon_visible_pois_landuse
                            priority: 69
                    baseball:
                        filter: { sport: baseball }
                        draw: { icons: { sprite: baseball-field } }
                    basketball:
                        filter: { sport: basketball }
                        draw: { icons: { sprite: basketball-court } }
                    football:
                        filter: { sport: football }
                        draw: { icons: { sprite: football-stadium } }
                    hockey:
                        filter: { sport: hockey-field }
                        draw: { icons: { sprite: hockey-field } }
                    soccer:
                        filter: { sport: soccer }
                        draw: { icons: { sprite: soccer-field } }
                    tennis:
                        filter: { sport: tennis }
                        draw: { icons: { sprite: tennis } }

                # minor-z17-early:
                #     filter:
                #         kind: [accountant, administrative, advertising_agency, architect, association, atm, bakery, bed_and_breakfast, bicycle, bicycle_parking, bicycle_rental_station, books, butcher, car, car_repair, chalet, clothes, company, computer, consulting, convenience, doityourself, drinking_water, dry_cleaning, educational_institution, emergency_phone, employment_agency, estate_agent, fashion, financial, florist, foundation, gift, government, greengrocer, guest_house, hairdresser, hostel, hotel, insurance, it, jewelry, lawyer, mast, memorial, mobile_phone, motel, newspaper, ngo, notary, optician, parking, pet, physician, playground, political_party, post_box, religion, research, subway_entrance, tax_advisor, telecommunication, telephone, theatre, therapist, toilets, traffic_signals, travel_agent, water_tower, yes]
                #         area: false
                #         $zoom: { max: 17 }
                #     draw:
                #         icons:
                #             visible: false
                #             text:  { visible: false }
                # minor-z18-early:
                #     filter:
                #         kind: [bench, waste_basket]
                #         area: false
                #         $zoom: { max: 18 }
                #     draw:
                #         icons:
                #             visible: false
                #             text:  { visible: false }

                icons:
                    subway-entrance:
                        filter: { kind: [subway_entrance] }
                        draw:   { icons: { sprite: subway-entrance } }

                    pier:
                        filter: { kind: pier }
                        draw:   { icons: { sprite: pier } }
                        early:
                            filter: { $zoom: { max: 14 } }
                            draw:
                                icons:
                                    visible: false

                # building-icon:
                #     filter: { kind: [building, auditorium, terminal, hangar, retirement_home, manor, recreation_center, apartments] }
                #     draw:   { icons: { sprite: building } }
                #     early:
                #         filter:
                #             any:
                #                 # show labels for smaller landuse areas at higher zooms
                #                 - { $zoom: [14], area: { max: 200000 } }
                #                 - { $zoom: [15], area: { max: 20000 } }
                #                 - { $zoom: [16], area: { max: 5000 } }
                #                 - { $zoom: [17], area: { max: 1000 } }
                #         draw:
                #             icons:
                #                 visible: false
                #                 text:
                #                     visible: false

styles:
    icons:
        base: points
        texture: pois
