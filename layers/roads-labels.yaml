layers:
    roads:
        data: { source: mapzen }

        highway:
            filter: { kind: highway }
            labels-highway-z8:
                filter: { $zoom: { min: 8 }, $zoom: { max: 15 } }
                draw:
                    text:
                        priority: 50
                        text_source: ref
                        font:
                            family: Aldrich
                            size: [[8,8px],[12,10px]]
                            fill: [0.082,0.133,0.259]
                            stroke: { color: [0.000,0.533,1.000], width: 4px }
            labels-highway-z14:
                filter: { $zoom: { min: 15 } }
                draw:
                    text:
                        priority: 50
                        text_source: function() { if( feature.ref && feature.name ) { return feature.ref + " " + feature.name; } else { return feature.name; } }
                        font:
                            family: Aldrich
                            size: [[15,12px],[20,14px]]
                            fill: [0.082,0.133,0.259]
                            stroke: { color: [0.000,0.533,1.000], width: 6px }



        major_road:
            filter: { kind: major_road }
            trunk_primary:
                filter: { highway: [trunk, primary] }
                routes:
                    filter: { ref: true }
                    labels-trunk-primary-route:
                        filter: { $zoom: { min: 13 } }
                        draw:
                            text:
                                priority: 50
                                text_source: function() { if( feature.ref && feature.name ) { return feature.ref + " " + feature.name; } else { return feature.name; } }
                                font:
                                    family: Aldrich
                                    size: [[13,10px],[15,12px],[19,14px]]
                                    fill: [0.027,0.805,0.939]
                                    stroke: { color: [0.212,0.302,0.427], width: 5px }
                labels-trunk-primary-z14:
                    filter: { $zoom: [13,14] }
                    draw:
                        text:
                            priority: 53
                            text_source: function() { if( feature.ref && feature.name ) { if( feature.ref.length < 6 ) { return feature.ref + " " + feature.name; } else { return feature.name; } } else { return feature.name; } }
                            font:
                                family: Cairo
                                size: 10px
                                fill: white

                labels-trunk-primary-z16:
                    filter: { $zoom: { min: 15 } }
                    draw:
                        text:
                            priority: 53
                            text_source: function() { if( feature.ref && feature.name ) { if( feature.ref.length < 6 ) { return feature.ref + " " + feature.name; } else { return feature.name; } } else { return feature.name; } }
                            font:
                                family: Cairo
                                size: [[15,13px],[18,14px]]
                                fill: white


            secondary:
                filter: { highway: secondary }
                labels-secondary:
                    draw:
                        text:
                            priority: 54
                            text_source: function() { if( feature.ref && feature.name ) { if( feature.ref.length < 6 ) { return feature.ref + " " + feature.name; } else { return feature.name; } } else { return feature.name; } }
                            font:
                                family: Cairo
                                size: [[15,13px],[18,14px]]
                                # fill: [[15,[0.686,0.848,0.980]],[18,[1.00,1.00,1.00]]]
                                fill: [0.686,0.848,0.980]
                    early:
                        filter: { $zoom: [11,12,13,14] }
                        draw:
                            text:
                                visible: false
                    routes:
                        filter: { ref: true, $zoom: { min: 13 } }
                        draw:
                            text:
                                visible: true
                                priority: 54
                                text_source: function() { if( feature.ref && feature.name ) { if( feature.ref.length < 6 ) { return feature.ref + " " + feature.name; } else { return feature.name; } } else { return feature.name; } }
                                font:
                                    family: Cairo
                                    size: [[13,10px],[15,13px],[18,14px]]
                                    fill: white
