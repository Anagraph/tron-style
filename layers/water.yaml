layers:
    water:
        data: { source: mapzen }
        draw:
            polygons:
                style: water
                order: global.order
                # color: [0.219, 0.226, 0.529]
                color: [0.304,0.310,0.660]

        water-later:
            filter: { $zoom: { min: 13 } }
            draw:
                polygons:
                    style: water-later
                    color: [0.164,0.168,0.350]
                    # color: [0.219,0.226,0.430]

        water-lakes:
            filter:
                all:
                    - kind: [ocean, lake, water, riverbank, reservoir, swimming_pool]
                # WARNING: any area filters here must match the area filters in the water-boundaries-not_ocean layer
                any:
                    # limit show smaller landuse areas to higher zooms
                    - { $zoom: { min: 1 },  area: { min: 40000000000 } }
                    - { $zoom: { min: 2 },  area: { min: 20000000000 } }
                    # some weird natural earth scale set transition
                    - { $zoom: { min: 3 },  area: { min: 80000000000 } }
                    - { $zoom: { min: 4 },  area: { min: 5000000000 } }
                    - { $zoom: { min: 5 },  area: { min: 700000000 } }
                    - { $zoom: { min: 6 },  area: { min: 500000000 } }
                    - { $zoom: { min: 7 },  area: { min: 160000000 } }
                    - { $zoom: { min: 8 },  area: { min: 40000000 } }
                    - { $zoom: { min: 9 },  area: { min: 10000000 } }
                    - { $zoom: { min: 10 }, area: { min: 8000000 } }
                    - { $zoom: { min: 11 }, area: { min: 2000000 } }
                    - { $zoom: { min: 12 }, area: { min: 200000 } }
                    - { $zoom: { min: 13 }, area: { min: 100000 } }
                    - { $zoom: { min: 14 }, area: { min: 2000 } }
                    - { $zoom: { min: 15 } }
            draw:
                polygons:
                    style: water
                    # color: [0.219, 0.226, 0.529]
                    color: [0.304,0.310,0.660]

        water-other_areas:
            filter: { not: { kind: [ocean, lake, water, reservoir, playa] }, $zoom: { min: 10 }, area: { min: 100 } }
            draw:
                polygons:
                    style: water
                    color: [0.304,0.310,0.660]

        water-swimming_pool:
            filter: { kind: swimming_pool }
            draw:
                polygons:
                    color: red

        water-boundaries:
            filter: { boundary: yes, kind: ocean }
            draw:
                lines:
                    style: water-boundaries
                    order: global.order
                    width: [[4,0px],[16,7px],[20,10]]
                    # color: [0.017, 1.000, 0.649]
                    # color: [0.055,0.176,0.949]
                    # color: [0.051,0.158,0.850]
                    # color: [0.043,0.133,0.720]
                    color: [0.091,0.329,0.692]
                    join: round

        water-boundaries-not_ocean:
            filter:
                all:
                    - boundary: yes
                    - not: { kind: [ocean, playa] }
                    - $zoom: { min: 8}
                # WARNING: any area filters here must match the area filters in the lakes layer
                any:
                    # limit show smaller landuse areas to higher zooms
                    - { $zoom: { min: 1 },  area: { min: 40000000000 } }
                    - { $zoom: { min: 2 },  area: { min: 20000000000 } }
                    # some weird natural earth scale set transition
                    - { $zoom: { min: 3 },  area: { min: 80000000000 } }
                    - { $zoom: { min: 4 },  area: { min: 5000000000 } }
                    - { $zoom: { min: 5 },  area: { min: 700000000 } }
                    - { $zoom: { min: 6 },  area: { min: 500000000 } }
                    - { $zoom: { min: 7 },  area: { min: 160000000 } }
                    - { $zoom: { min: 8 },  area: { min: 40000000 } }
                    - { $zoom: { min: 9 },  area: { min: 10000000 } }
                    - { $zoom: { min: 10 }, area: { min: 8000000 } }
                    - { $zoom: { min: 11 }, area: { min: 2000000 } }
                    - { $zoom: { min: 12 }, area: { min: 200000 } }
                    - { $zoom: { min: 13 }, area: { min: 100000 } }
                    - { $zoom: { min: 14 }, area: { min: 2000 } }
                    - { $zoom: { min: 15 } }
            draw:
                lines:
                    color: [0.017, 1.000, 0.649]
                    width: [[8,0px],[20,10px]]
                    join: round
            water-boundaries-not_ocean-riverbank:
                # river boundaries like the thames in london, la seine in paris
                filter: { kind: riverbank }
                draw:
                    lines:
                        color: [0.091,0.329,0.692]
                        width: [[8,0px],[20,10px]]

styles:
    water:
        base: polygons
        mix: [thin_stripes]
        shaders:
            defines:
                THIN_STRIPES_OUT: 12.
                THIN_STRIPES_MAX_ZOOM: 14.
    water-later:
        base: polygons
        mix: [shimmering]
        shaders:
            defines:
                SHIMMERING_IN: 11.
                SHIMMERING_OUT: 16.
                SHIMMERING_MAX_ZOOM: 17.
                SHIMMERING_SCALE_IN: 30.0
                SHIMMERING_SCALE_OUT: 10.
                SHIMMERING_SPEED: 0.1
    water-boundaries:
        base: lines
        mix: [coast]