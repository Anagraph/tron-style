textures:
    pois:
        url: ../images/poi_icons_18@2x.png
        filtering: mipmap
        sprites:
            # define sprites: [x origin, y origin, width, height]
            airport: [870, 0, 38, 38]
            aquarium: [732, 168, 38, 38]
            art-gallery: [640, 168, 38, 38]
            athletics-sports: [184, 168, 38, 38]
            atm: [918, 126, 38, 38]
            automotive-shop: [0, 168, 38, 38]
            bakery: [548, 168, 38, 38]
            bank: [964, 126, 38, 38]
            bar: [230, 168, 38, 38]
            baseball-field: [506, 84, 38, 38]
            basketball-court: [460, 84, 38, 38]
            beach: [644, 84, 38, 38]
            beer-garden: [322, 210, 38, 38]
            bench: [548, 0, 38, 38]
            bicycle-parking: [644, 126, 38, 38]
            bike-shop: [872, 126, 38, 38]
            boat-ferry: [824, 0, 38, 38]
            boat-ramp: [138, 84, 40, 38]
            bookstore: [826, 126, 38, 38]
            bridge: [920, 84, 38, 38]
            buddhism: [782, 84, 38, 38]
            building: [414, 168, 34, 34]
            burger: [184, 210, 38, 38]
            taqueria: [138, 210, 38, 38]
            bus-station: [778, 0, 38, 38]
            butcher: [920, 42, 38, 38]
            campground: [828, 84, 38, 38]
            candy-store: [0, 210, 38, 38]
            capital-l: [560, 210, 16, 16]
            capital-m: [540, 210, 12, 12]
            capital-s: [520, 210, 10, 10]
            capital-xl: [584, 210, 20, 20]
            capital-xs: [506, 210, 8, 8]
            car-dealership: [780, 126, 38, 38]
            castle: [414, 42, 38, 38]
            cemetery: [736, 84, 38, 38]
            church: [230, 126, 38, 38]
            clothing-store: [824, 168, 38, 38]
            coffee-shop: [502, 168, 38, 38]
            college-university: [870, 168, 38, 38]
            convenience-store: [46, 84, 38, 38]
            courthouse: [364, 0, 38, 38]
            department-store: [734, 126, 38, 38]
            drinking-water: [276, 210, 38, 38]
            dry-cleaning: [0, 84, 38, 38]
            electronics-store: [598, 126, 38, 38]
            factory: [368, 168, 38, 38]
            fire-station: [318, 0, 38, 38]
            fitness: [874, 42, 38, 38]
            flower-shop: [184, 126, 38, 38]
            forest: [46, 210, 38, 38]
            fountain: [322, 126, 38, 38]
            garden: [690, 84, 38, 38]
            gas-station: [960, 168, 38, 38]
            generic: [460, 210, 38, 38]
            gift-shop: [138, 126, 38, 38]
            golf-course: [414, 84, 38, 38]
            government-building: [138, 168, 38, 38]
            grocery-store: [552, 126, 38, 38]
            harbor-marina: [92, 168, 40, 38]
            hardware-store: [828, 42, 38, 38]
            historic-site: [92, 126, 38, 38]
            hospital: [184, 0, 34, 34]
            hotel: [732, 0, 38, 38]
            ice-cream-shop: [368, 210, 38, 38]
            information: [414, 210, 38, 38]
            jewelry-store: [736, 42, 38, 38]
            landmark: [272, 0, 38, 38]
            laundry: [690, 42, 38, 38]
            library: [0, 0, 38, 38]
            light-rail: [686, 0, 38, 38]
            lighthouse: [276, 84, 38, 38]
            liquor-store: [506, 126, 38, 38]
            locate-off: [492, 342, 72, 72]
            locate-on: [412, 342, 72, 72]
            mall: [644, 42, 38, 38]
            market: [598, 42, 38, 38]
            mine: [782, 42, 40, 38]
            mobile-phone-shop: [506, 42, 38, 38]
            mosque: [92, 0, 38, 38]
            mountain: [230, 84, 38, 38]
            movie-theatre: [778, 168, 38, 38]
            museum: [46, 126, 38, 38]
            music-store: [368, 42, 38, 38]
            newsstand: [322, 42, 38, 38]
            office: [598, 84, 38, 38]
            optical-shop: [276, 42, 38, 38]
            park: [276, 126, 38, 38]
            parking: [690, 126, 38, 38]
            performing-arts: [594, 168, 38, 38]
            pet-store: [230, 42, 38, 38]
            pharmacy: [966, 42, 38, 38]
            photography-lab: [184, 42, 38, 38]
            pier: [640, 0, 38, 38]
            playground: [460, 42, 38, 38]
            police: [226, 0, 38, 38]
            pool: [184, 84, 38, 38]
            post-office: [322, 168, 38, 38]
            real-estate: [138, 42, 38, 38]
            recycling-facility: [92, 42, 38, 38]
            rental-car: [594, 0, 38, 38]
            restaurant: [92, 210, 38, 38]
            ruin: [502, 0, 38, 38]
            salon-barber: [46, 42, 38, 38]
            school: [552, 84, 38, 38]
            shoe-store: [552, 42, 38, 38]
            ski-area: [368, 126, 38, 38]
            soccer-field: [368, 84, 38, 38]
            spiritual-center: [276, 168, 38, 38]
            sporting-goods-shop: [0, 42, 38, 38]
            spring: [322, 84, 38, 38]
            stadium: [460, 126, 38, 38]
            subway-entrance: [456, 0, 38, 38]
            synagogue: [46, 0, 38, 38]
            tailor-shop: [962, 0, 38, 38]
            tennis: [414, 126, 38, 38]
            theme-park: [0, 126, 38, 38]
            toilets: [874, 84, 38, 38]
            townspot-l: [770, 210, 16, 16]
            townspot-l-rev: [664, 210, 16, 16]
            townspot-m: [750, 210, 12, 12]
            townspot-m-rev: [644, 210, 12, 12]
            townspot-s: [732, 210, 10, 10]
            townspot-s-rev: [626, 210, 10, 10]
            townspot-xl: [794, 210, 20, 20]
            townspot-xl-rev: [688, 210, 20, 20]
            townspot-xs: [716, 210, 8, 8]
            townspot-xs-rev: [612, 210, 6, 6]
            toy-game-store: [916, 0, 38, 38]
            traffic-signal: [916, 168, 36, 34]
            train-station: [410, 0, 38, 38]
            veterinarian: [138, 0, 38, 38]
            view-point: [686, 168, 40, 38]
            vineyard: [46, 168, 40, 38]
            volcano: [92, 84, 38, 38]
            wine-bar: [230, 210, 38, 38]
            winery: [456, 168, 38, 38]
            zoo: [966, 84, 38, 38]
            #
            # UX/UI icons for map interactivity & app chrome
            #
            ux-current-location: [158, 342, 88, 88]
            ux-route-arrow: [822, 210, 128, 128]
            ux-route-start: [78, 342, 72, 92]
            ux-route-stop: [0, 342, 72, 92]
            ux-search-active: [252, 342, 72, 108]
            ux-search-inactive: [332, 342, 72, 108]
            # ux-transit-stop is currently reusing capital-xl artwork, please customize
            ux-transit-stop: [584, 210, 20, 20]

layers:
    places:
        data: { source: mapzen, layer: places }
        filter: { not: { kind: [ocean,sea] } }
        draw:
            text:
                visible: false
                font:
                    family: Ubuntu
                    fill: white

        country-z4:
            filter:
                all:
                    - kind: [country]
                    - $zoom: [4]
                    - name: ["United Kingdom","United States of America","Brasil","中华人民共和国","Россия","Canada","Kalaallit Nunaat","Ísland","Australia","India","日本","Guam","Indonesia","South Africa","مصر","Nigeria","Kenya"]
            draw:
                text:
                    text_source: function() { return feature["name:en"] || feature["name"]; }
                    visible: true
                    font:
                        family: Orbitron
                        size: 12px
                        fill: [0.594,0.990,0.944]
        country-z5:
            filter: { name: true, population: true, kind: [country], $zoom: [5] }
            draw:
                text:
                    text_source: function() { return feature["name:en"] || feature["name"]; }
                    visible: true
                    font:
                        family: Orbitron
                        size: 12px
                        fill: [0.594,0.990,0.944]
            z5-dont-label:
                filter: { name: [Nederland,Luxembourg,Liechtenstein,San Marino,Civitatis Vaticanæ,Crna Gora,Македонија,The Gambia,Burundi,Swaziland,الإمارات العربية المتحدة,العراق,Singapore,El Salvador,Belize,Trinidad and Tobago, Saint Lucia, Montserrat,Anguilla,República Dominicana,Bahamas,British Virgin Islands,Antigua and Barbuda,Grenada,Sint Maarten,Saint Kitts and Nevis,Cayman Islands,België - Belgique - Belgien], $zoom: {min: 5, max: 6} }
                draw:
                    text:
                        visible: false
        country-z6:
            filter:
                all:
                    - name: true
                    - population: true
                    - kind: [country]
                    - $zoom: [6]
                any:
                    - { population: { min: 5000000 } }
            draw:
                text:
                    text_source: function() { return feature["name:en"] || feature["name"]; }
                    visible: true
                    priority: 3
                    font:
                        family: Orbitron
                        size: 14px
                        fill: [0.594,0.990,0.944]
            z6-dont-label:
                filter: { name: [Luxembourg,Liechtenstein,San Marino,Civitatis Vaticanæ,El Salvador,Belize,België - Belgique - Belgien], $zoom: {min: 6, max: 7} }
                draw:
                    text:
                        visible: false
        country-z7:
            filter: { name: true, kind: [country], $zoom: [7] }
            draw:
                text:
                    text_source: function() { return feature["name:en"] || feature["name"]; }
                    visible: true
                    priority: 3
                    # style: text-filter-tv
                    font:
                        family: Orbitron
                        size: 18px
                        fill: [0.594,0.990,0.944]
            z7-dont-label:
                filter: { name: [Luxembourg,Liechtenstein,San Marino,Civitatis Vaticanæ,België - Belgique - Belgien,Хуссар Ирыстон,Аҧсны - Абхазия], $zoom: {min: 7, max: 8} }
                draw:
                    text:
                        visible: false

        populated-places:
            populated-places-natural-earth-z5:
                filter: { name: true, source: naturalearthdata.com, $zoom: [5] }
                z5places-1:
                    filter: { scalerank: [0,1] }
                    draw:
                        text:
                            visible: true
                            priority: 8
                            offset: [0, 3px]
                            font:
                                family: Exo2
                                size: 11px
                                fill: white


#         populated-places:
#             draw:
#                 icons:
#                     interactive: true
#                     priority: 5
#                     text:
#                         interactive: true

#             populated-places-natural-earth-z2:
#                 filter: { name: true, source: naturalearthdata.com, $zoom: [2,3], scalerank: [0,1] }
#                 draw:
#                     icons:
#                         size: 5px
#                         visible: global.icon_visible_populated_places
#                         sprite: townspot-s-rev
#                         text:
#                             visible: global.text_visible_populated_places
#                             font:
#                                 size: [[2,10px],[3,11px]]
#                                 fill: global.text_fill
#                                 # stroke: { color: global.text_stroke, width: 4 }

#                 z3places-2:
#                     filter: { scalerank: [1] }
#                     draw:
#                         icons:
#                             priority: 7
#                             text:
#                                 font:
#                                     size: 9px

#             populated-places-natural-earth-z4:
#                 filter: { name: true, source: naturalearthdata.com, $zoom: [4], scalerank: [0,1,2] }
#                 z4places-1:
#                     filter: { scalerank: [0] }
#                     draw:
#                         icons:
#                             size: [[4,5px],[5,6px]]
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-s-rev
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     size: 13px
#                                     fill: global.text_fill
#                                     # stroke: { color: global.text_stroke, width: 4 }

#                 z4places-2:
#                     filter: { scalerank: [1,2] }
#                     draw:
#                         icons:
#                             priority: 7
#                             text:
#                                 font:
#                                     size: 10px

#             populated-places-natural-earth-z5:
#                 filter: { name: true, source: naturalearthdata.com, $zoom: [5] }
#                 z5places-1:
#                     filter: { scalerank: [0,1] }
#                     draw:
#                         icons:
#                             priority: 7
#                             size: 6px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-m-rev
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     size: 13px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 priority: 5
#                                 size: 8px
#                                 sprite: capital-l

#                 z5places-2:
#                     filter: { scalerank: [2] }
#                     draw:
#                         icons:
#                             priority: 11
#                             size: 5px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-s-rev
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     size: 11px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 priority: 9
#                                 size: 6px
#                                 sprite: capital-m

#                 z5places-3:
#                     filter: { scalerank: [3,4] }
#                     draw:
#                         icons:
#                             priority: 17
#                             size: 5px
#                             sprite: townspot-s-rev
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     fill: [0.25,0.25,0.25]
#                                     size: 10px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 priority: 15
#                                 size: 6px
#                                 sprite: capital-m

#             populated-places-natural-earth-z6:
#                 filter: { name: true, source: naturalearthdata.com, $zoom: [6] }
#                 z6places-1:
#                     filter: { scalerank: [0,1] }
#                     draw:
#                         icons:
#                             priority: 7
#                             size: 8px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-l-rev
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     fill: global.text_fill
#                                     size: 15px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 sprite: capital-l
#                                 size: 8px
#                                 priority: 5

#                 z6places-2:
#                     filter: { scalerank: [2,3,4] }
#                     draw:
#                         icons:
#                             priority: 11
#                             size: 6px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-m-rev
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     fill: global.text_fill
#                                     size: 12px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 size: 6px
#                                 sprite: capital-m
#                                 priority: 9

#                 z6places-3:
#                     filter: { scalerank: [5,6] }
#                     draw:
#                         icons:
#                             size: 5px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-s-rev
#                             priority: 15
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     fill: [0.25,0.25,0.25]
#                                     size: 10px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 size: 6px
#                                 sprite: capital-m
#                                 priority: 13

#             populated-places-natural-earth-z7:
#                 filter: { name: true, source: naturalearthdata.com, $zoom: [7] }
#                 z7places-1:
#                     filter: { scalerank: [0,1] }
#                     draw:
#                         icons:
#                             size: 8px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-l-rev
#                             priority: 7
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     fill: global.text_fill
#                                     size: 16px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 size: 8px
#                                 sprite: capital-l
#                                 priority: 5

#                 z7places-2:
#                     filter: { scalerank: [2,3,4,5] }
#                     draw:
#                         icons:
#                             size: 6px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-m-rev
#                             priority: 13
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     fill: global.text_fill
#                                     size: 13px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 size: 8px
#                                 sprite: capital-l
#                                 priority: 11

#                 z7places-3:
#                     filter: { scalerank: [6,7] }
#                     draw:
#                         icons:
#                             size: 5px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-s-rev
#                             priority: 17
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     fill: [0.25,0.25,0.25]
#                                     size: 11px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 size: 6px
#                                 sprite: capital-m
#                                 priority: 15


#             populated-places-osm-z8:
#                 filter:
#                     all:
#                         - source: [openstreetmap, openstreetmap.org]
#                         - name: true
#                         - population: true
#                         - not: { kind: [country, county, state, island, neighbourhood, suburb, quarter] }
#                         - $zoom: [8]

#                 z8places-1:
#                     filter:
#                         any:
#                             - { population: { min: 1000000 } }
#                     draw:
#                         icons:
#                             size: 6px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-m-rev
#                             priority: 7
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     size: 16px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 size: 8px
#                                 sprite: capital-l
#                                 priority: 5
#                 z8places-2:
#                     filter:
#                         any:
#                             - { population: { min: 150000, max: 999999 } }
#                     draw:
#                         icons:
#                             size: 6px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-m-rev
#                             priority: 11
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     size: 13px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 size: 6px
#                                 sprite: capital-m
#                                 priority: 9

#                 z8places-3:
#                     filter:
#                         any:
#                             - { population: { min: 85000, max: 149999 } }
#                     draw:
#                         icons:
#                             size: 6px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-m-rev
#                             priority: 15
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     fill: [0.25,0.25,0.25]
#                                     size: 11px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 size: 6px
#                                 sprite: capital-m
#                                 priority: 13

#                 z8places-4:
#                     filter:
#                         any:
#                             - { population: { min: 50000, max: 84999 } }
#                     draw:
#                         icons:
#                             size: 5px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-s-rev
#                             priority: 19
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     fill: [0.30,0.30,0.30]
#                                     size: 10px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 size: 5px
#                                 sprite: capital-m
#                                 priority: 17
#                 z8places-5:
#                     filter:
#                         all:
#                             - { population: { max: 50000 } }
#                         any:
#                             - { capital: yes }
#                             - { state_capital: yes }
#                     draw:
#                         icons:
#                             size: 5px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-s-rev
#                             priority: 19
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     fill: [0.30,0.30,0.30]
#                                     size: 10px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 size: 5px
#                                 sprite: capital-s
#                                 priority: 17

#             populated-places-natural-earth-z8-backfill:
#                 filter: { name: true, source: naturalearthdata.com, $zoom: [8], population: { max: 50000 } }
#                 draw: { icons: { text: { font: { fill: global.text_fill } } } }
#                 z8places-1-ne:
#                     filter: { scalerank: [0,1] }
#                     draw:
#                         icons:
#                             size: 8px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-l-rev
#                             priority: 23
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     size: 16px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 size: 8px
#                                 sprite: capital-l
#                                 priority: 21

#                 z8places-2-ne:
#                     filter: { scalerank: [2,3,4,5] }
#                     draw:
#                         icons:
#                             size: 6px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-m-rev
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     size: 13px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 sprite: capital-m

#                 z8places-3-ne:
#                     filter: { scalerank: [6,7] }
#                     draw:
#                         icons:
#                             size: 5px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-s-rev
#                             priority: 27
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     size: 11px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 sprite: capital-s
#                                 priority: 25

#             populated-places-osm-z9:
#                 filter:
#                     all:
#                         - source: [openstreetmap, openstreetmap.org]
#                         - name: true
#                         - population: true
#                         - not: { kind: [country, county, state, island, neighbourhood, suburb, quarter] }
#                         - $zoom: [9]

#                 z9places-1:
#                     filter:
#                         any:
#                             - { population: { min: 1000000 } }
#                     draw:
#                         text-blend-order:
#                             anchor: center
#                             visible: global.text_visible_populated_places
#                             priority: 6
#                             font:
#                                 size: 17px
# #                                fill: global.text_fill
# #                                stroke: { color: global.text_stroke, width: 4 }

#                 z9places-2a:
#                     filter:
#                         any:
#                             - { population: { min: 350000, max: 999999 } }
#                     draw:
#                         text-blend-order:
#                             anchor: center
#                             visible: global.text_visible_populated_places
#                             priority: 8
#                             font:
#                                 size: 13px
# #                                fill: global.text_fill
# #                                stroke: { color: global.text_stroke, width: 4 }

#                 z9places-2b:
#                     filter:
#                         any:
#                             - { population: { min: 150000, max: 350000 } }
#                     draw:
#                         icons:
#                             size: 6px
#                             sprite: townspot-m-rev
#                             priority: 11
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     size: 13px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 sprite: capital-m
#                                 priority: 9

#                 z9places-3:
#                     filter:
#                         any:
#                             - { population: { min: 85000, max: 149999 } }
#                     draw:
#                         icons:
#                             size: 6px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-m-rev
#                             priority: 15
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     fill: [0.25,0.25,0.25]
#                                     size: 11px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 sprite: capital-m
#                                 priority: 13
#                                 text:
#                                     font:
#                                         size: 15px

#                 z9places-4:
#                     filter:
#                         any:
#                             - { population: { min: 50000, max: 84999 } }
#                     draw:
#                         icons:
#                             size: 5px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-s-rev
#                             priority: 19
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     fill: [0.30,0.30,0.30]
#                                     size: 9px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 sprite: capital-s
#                                 priority: 17
#                 z9places-5:
#                     filter:
#                         all:
#                             - { population: { max: 50000 } }
#                         any:
#                             - { capital: yes }
#                             - { state_capital: yes }
#                     draw:
#                         icons:
#                             size: 5px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-s-rev
#                             priority: 19
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     fill: [0.30,0.30,0.30]
#                                     size: 9px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 sprite: capital-s
#                                 priority: 17

#             populated-places-osm-z9-no-population:
#                 filter:
#                     all:
#                         - source: [openstreetmap, openstreetmap.org]
#                         - name: true
#                         - population: false
#                         - not: { kind: [country, county, state, island, neighbourhood, suburb, quarter] }
#                         - $zoom: [9]
#                         - kind: [city,town]
#                 draw:
#                     icons:
#                         size: 5px
#                         visible: global.icon_visible_populated_places
#                         sprite: townspot-s-rev
#                         priority: 21
#                         text:
#                             visible: global.text_visible_populated_places
#                             font:
#                                 size: 10px

#             populated-places-natural-earth-z9-backfill:
#                 filter: { name: true, source: naturalearthdata.com, $zoom: [9], population: { max: 50000 } }
#                 draw: { icons: { text: { font: { fill: global.text_fill } } } }
#                 z9places-1-ne:
#                     filter: { scalerank: [0,1] }
#                     draw:
#                         icons:
#                             size: 8px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-l-rev
#                             priority: 25
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     size: 16px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 sprite: capital-l
#                                 priority: 23

#                 z9places-2-ne:
#                     filter: { scalerank: [2,3,4,5] }
#                     draw:
#                         icons:
#                             size: 6px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-m-rev
#                             priority: 29
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     size: 13px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 sprite: capital-m
#                                 priority: 28

#                 z9places-3-ne:
#                     filter: { scalerank: [6,7,8,9] }
#                     draw:
#                         icons:
#                             size: 6px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-m-rev
#                             priority: 33
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     size: 11px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 sprite: capital-m
#                                 priority: 31

#             populated-places-osm-z10:
#                 filter:
#                     all:
#                         - source: [openstreetmap, openstreetmap.org]
#                         - name: true
#                         - population: true
#                         - not: { kind: [country, county, state, island, neighbourhood, suburb, quarter] }
#                         - $zoom: [10]

#                 z10places-1:
#                     filter:
#                         any:
#                             - { population: { min: 1000000 } }
#                     draw:
#                         text-blend-order:
#                             anchor: center
#                             visible: global.text_visible_populated_places
#                             # TODO: Why is this here?
#                             priority: 5
#                             font:
#                                 size: 17px

#                 z10places-2a:
#                     filter:
#                         any:
#                             - { population: { min: 350000, max: 1000000 } }
#                     draw:
#                         text-blend-order:
#                             anchor: center
#                             visible: global.text_visible_populated_places
#                             # TODO: Why is this here?
#                             priority: 6
#                             font:
#                                 size: 13px
# #                                fill: global.text_fill
# #                                stroke: { color: global.text_stroke, width: 4 }

#                 z10places-2b:
#                     filter:
#                         any:
#                             - { population: { min: 150000, max: 350000 } }
#                     draw:
#                         icons:
#                             size: 6px
#                             sprite: townspot-m-rev
#                             priority: 7
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     size: 13px

#                 z10places-3:
#                     filter:
#                         any:
#                             - { population: { min: 50000, max: 149999 } }
#                     draw:
#                         icons:
#                             size: 6px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-m-rev
#                             priority: 11
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     fill: [0.25,0.25,0.25]
#                                     size: 11px

#                 z10places-4:
#                     filter:
#                         any:
#                             - { population: { min: 20000, max: 49999 } }
#                     draw:
#                         icons:
#                             size: 5px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-s-rev
#                             priority: 13
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     fill: [0.35,0.35,0.35]
#                                     size: 9px

#             populated-places-osm-z10-no-population:
#                 filter:
#                     all:
#                         - source: [openstreetmap, openstreetmap.org]
#                         - name: true
#                         - population: false
#                         - not: { kind: [country, county, state, island, neighbourhood, suburb, quarter] }
#                         - $zoom: [10]
#                         - kind: [city,town]
#                 draw:
#                     icons:
#                         size: 5px
#                         visible: global.icon_visible_populated_places
#                         sprite: townspot-s-rev
#                         priority: 15
#                         text:
#                             visible: global.text_visible_populated_places
#                             font:
#                                 size: 10px

#             populated-places-natural-earth-z10-backfill:
#                 filter: { name: true, source: naturalearthdata.com, $zoom: [10], population: { max: 20000 } }
#                 draw: { icons: { text: { font: { fill: global.text_fill } } } }
#                 z10places-1-ne:
#                     filter: { scalerank: [0,1] }
#                     draw:
#                         icons:
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     size: 16px

#                 z10places-2-ne:
#                     filter: { scalerank: [2,3,4,5] }
#                     draw:
#                         icons:
#                             size: 6px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-m-rev
#                             priority: 21
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     size: 13px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 sprite: capital-m
#                                 priority: 20

#                 z10places-3-ne:
#                     filter: { scalerank: [6,7,8,9,10] }
#                     draw:
#                         icons:
#                             size: 5px
#                             visible: global.icon_visible_populated_places
#                             sprite: townspot-s-rev
#                             priority: 25
#                             text:
#                                 visible: global.text_visible_populated_places
#                                 font:
#                                     size: 12px
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             icons:
#                                 size: 7px
#                                 sprite: capital-m
#                                 priority: 23

#             populated-places-osm-z11:
#                 filter:
#                     all:
#                         - source: [openstreetmap, openstreetmap.org]
#                         - name: true
#                         - population: true
#                         - not: { kind: [country, county, state, island, neighbourhood, suburb, quarter] }
#                         - $zoom: [11]
#                         - kind: [city,town]
#                 draw:
#                     text-blend-order:
#                         anchor: center

#                 z11places-1:
#                     filter:
#                         any:
#                             - { population: { min: 1000000 } }
#                     draw:
#                         text-blend-order:
#                             visible: global.text_visible_populated_places
#                             priority: 5
#                             font:
#                                 size: 18px
# #                                fill: global.text_fill
# #                                stroke: { color: global.text_stroke, width: 4 }

#                 z11places-2:
#                     filter:
#                         any:
#                             - { population: { min: 50000, max: 999999 } }
#                     draw:
#                         text-blend-order:
#                             visible: global.text_visible_populated_places
#                             priority: 6
#                             font:
#                                 size: 14px
# #                                fill: global.text_fill
# #                                stroke: { color: global.text_stroke, width: 4 }

#                 z11places-3:
#                     filter:
#                         any:
#                         - { population: { min: 5000, max: 49999 } }
#                     draw:
#                         text-blend-order:
#                             visible: global.text_visible_populated_places
#                             priority: 7
#                             font:
#                                 size: 12px
# #                                fill: global.text_fill
# #                                stroke: { color: global.text_stroke, width: 4 }

#             populated-places-osm-z11-no-population:
#                 filter:
#                     all:
#                         - source: [openstreetmap, openstreetmap.org]
#                         - name: true
#                         - population: false
#                         - not: { kind: [country, county, state, island, neighbourhood, suburb, quarter] }
#                         - $zoom: [11]
#                         - kind: [city,town]
#                 draw:
#                     text-blend-order:
#                         anchor: center
#                         visible: global.text_visible_populated_places
#                         priority: 8
#                         font:
#                             size: 11px
#                             #fill: global.text_fill
# #                            stroke: { color: global.text_stroke, width: 4 }

#             populated-places-natural-earth-z11-backfill:
#                 filter: { name: true, source: naturalearthdata.com, $zoom: [11], population: { max: 5000 } }
#                 draw:
#                     text-blend-order:
#                         anchor: center
#                         font:
#                             fill: global.text_fill
#                 z11places-1-ne:
#                     filter: { scalerank: [0,1] }
#                     draw:
#                         text-blend-order:
#                             visible: global.text_visible_populated_places
#                             priority: 10
#                             font:
#                                 size: 16px
#                                 #stroke: { color: global.text_stroke, width: 4 }
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             text-blend-order:
#                                 priority: 9
#                                 font:
#                                     size: 16px
#                                     #stroke: { color: global.text_stroke, width: 4 }

#                 z11places-2-ne:
#                     filter: { scalerank: [2,3,4,5] }
#                     draw:
#                         text-blend-order:
#                             visible: global.text_visible_populated_places
#                             priority: 13
#                             font:
#                                 size: 13px
#                                 #stroke: { color: global.text_stroke, width: 4 }
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             text-blend-order:
#                                 priority: 11
#                                 font:
#                                     size: 16px
#                                     #stroke: { color: global.text_stroke, width: 4 }
#                     state_capital:
#                         filter: { state_capital: yes }
#                         draw:
#                             text-blend-order:
#                                 priority: 12
#                                 font:
#                                     size: 14px
#                                     #stroke: { color: global.text_stroke, width: 4 }

#                 z11places-3-ne:
#                     filter: { scalerank: [6,7,8,9,10,11] }
#                     draw:
#                         text-blend-order:
#                             visible: global.text_visible_populated_places
#                             priority: 15
#                             font:
#                                 size: 11px
#                                 #stroke: { color: global.text_stroke, width: 4 }
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             text-blend-order:
#                                 priority: 14
#                                 font:
#                                     size: 14px
#                                     #stroke: { color: global.text_stroke, width: 4 }

#             populated-places-osm-z12:
#                 filter:
#                     all:
#                         - source: [openstreetmap, openstreetmap.org]
#                         - name: true
#                         - population: true
#                         - not: { kind: [country, county, state, island, neighbourhood, suburb, quarter] }
#                         - $zoom: [12]
#                         - kind: [city,town]
#                 draw:
#                     text-blend-order:
#                         anchor: center

#                 z12places-1:
#                     filter:
#                         any:
#                             - { population: { min: 1000000 } }

#                     draw:
#                         text-blend-order:
#                             visible: global.text_visible_populated_places
#                             priority: 5
#                             font:
#                                 size: 18px
#                                 #fill: global.text_fill
# #                                stroke: { color: global.text_stroke, width: 4 }

#                 z12places-2:
#                     filter:
#                         any:
#                             - { population: { min: 50000, max: 999999 } }
#                     draw:
#                         text-blend-order:
#                             visible: global.text_visible_populated_places
#                             priority: 6
#                             font:
#                                 size: 14px
#                                 #fill: global.text_fill
# #                                stroke: { color: global.text_stroke, width: 4 }

#                 z12places-3:
#                     filter:
#                         any:
#                         - { population: { min: 5000, max: 49999 } }
#                     draw:
#                         text-blend-order:
#                             visible: global.text_visible_populated_places
#                             priority: 7
#                             font:
#                                 size: 11px
#                                 #fill: global.text_fill
# #                                stroke: { color: global.text_stroke, width: 4 }

#                 z12places-4:
#                     filter:
#                         any:
#                         - { population: { max: 5000 } }
#                     draw:
#                         text-blend-order:
#                             visible: global.text_visible_populated_places
#                             priority: 8
#                             font:
#                                 size: 10px
#                                 #fill: global.text_fill
# #                                stroke: { color: global.text_stroke, width: 4 }

#             populated-places-osm-z12-no-population:
#                 filter:
#                     all:
#                         - source: [openstreetmap, openstreetmap.org]
#                         - name: true
#                         - population: false
#                         - not: { kind: [country, county, state, island, neighbourhood, suburb, quarter] }
#                         - $zoom: [12]
#                         - kind: [city,town]
#                 draw:
#                     text-blend-order:
#                         anchor: center
#                         visible: global.text_visible_populated_places
#                         priority: 9
#                         font:
#                             size: 11px
#                             #fill: global.text_fill
# #                            stroke: { color: global.text_stroke, width: 4 }

#             populated-places-natural-earth-z12-backfill:
#                 filter: { name: true, source: naturalearthdata.com, $zoom: [12], population: { max: 5000 } }
#                 draw:
#                     text-blend-order:
#                         anchor: center
#                         priority: 10
#                         font:
#                             fill: global.text_fill

#                 z12places-1-ne:
#                     filter: { scalerank: [0,1] }
#                     draw:
#                         text-blend-order:
#                             visible: global.text_visible_populated_places
#                             priority: 12
#                             font:
#                                 size: 16px
#                                 #stroke: { color: global.text_stroke, width: 4 }
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             text-blend-order:
#                                 priority: 11
#                                 font:
#                                     size: 16px
#                                     #stroke: { color: global.text_stroke, width: 4 }

#                 z12places-2-ne:
#                     filter: { scalerank: [2,3,4,5] }
#                     draw:
#                         text-blend-order:
#                             visible: global.text_visible_populated_places
#                             priority: 14
#                             font:
#                                 size: 13px
#                                 #stroke: { color: global.text_stroke, width: 4 }
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             text-blend-order:
#                                 priority: 13
#                                 font:
#                                     size: 16px
#                                     #stroke: { color: global.text_stroke, width: 4 }

#                 z12places-3-ne:
#                     filter: { scalerank: [6,7,8,9,10,11,12] }
#                     draw:
#                         text-blend-order:
#                             visible: global.text_visible_populated_places
#                             priority: 16
#                             font:
#                                 size: 11px
#                                 #stroke: { color: global.text_stroke, width: 4 }
#                     capital:
#                         filter: { capital: yes }
#                         draw:
#                             text-blend-order:
#                                 priority: 15
#                                 font:
#                                     size: 14px
#                                     #stroke: { color: global.text_stroke, width: 4 }

#             populated-places-osm-z13-z14:
#                 filter:
#                     all:
#                         - source: [openstreetmap, openstreetmap.org]
#                         - name: true
#                         - population: true
#                         - not: { kind: [country, county, state, island, neighbourhood, suburb, quarter] }
#                         - $zoom: [13,14]
#                         - kind: [city,town]
#                 draw:
#                     text-blend-order:
#                         anchor: center
#                         visible: global.text_visible_populated_places
#                         font:
#                             weight: 600
#                             fill: global.text_fill
#                 z14:
#                     filter:
#                         $zoom: [14]
#                     draw:
#                         text-blend-order:
#                             font:
#                                 weight: 600

#                 z13places-1:
#                     filter:
#                         any:
#                             - { population: { min: 200000 } }
#                     draw:
#                         text-blend-order:
#                             visible: false

#                 z13places-2:
#                     filter:
#                         any:
#                             - { population: { min: 50000, max: 199999 } }
#                     draw:
#                         text-blend-order:
#                             visible: global.text_visible_populated_places
#                             priority: 5
#                             font:
#                                 size: 14px
#                                 #stroke: { color: global.text_stroke, width: 4 }

#                 z13places-3:
#                     filter:
#                         any:
#                         - { population: { min: 5000, max: 49999 } }
#                     draw:
#                         text-blend-order:
#                             visible: global.text_visible_populated_places
#                             priority: 6
#                             font:
#                                 size: 12px
#                                 #stroke: { color: global.text_stroke, width: 4 }

#                 z13places-4:
#                     filter:
#                         any:
#                             - population: false
#                             - population: true
#                               all:
#                                 - population: { max: 5000 }
#                     draw:
#                         text-blend-order:
#                             font:
#                                 size: 12px
#                                 #stroke: { color: global.text_stroke, width: 4 }

#             populated-places-osm-z13-z14-no-population:
#                 filter:
#                     all:
#                         - source: [openstreetmap, openstreetmap.org]
#                         - name: true
#                         - population: false
#                         - not: { kind: [country, county, state, island, neighbourhood, suburb, quarter] }
#                         - $zoom: [13, 14]
#                         - kind: [city,town]
#                 draw:
#                     text-blend-order:
#                         anchor: center
#                         visible: global.text_visible_populated_places
#                         priority: 7
#                         font:
#                             size: 11px
#                             #stroke: { color: global.text_stroke, width: 4 }

#             populated-places-natural-earth-z13-z14-backfill:
#                 filter: { name: true, source: naturalearthdata.com, $zoom: [13,14], population: { max: 5000 } }
#                 draw:
#                     text-blend-order:
#                         anchor: center
#                         font:
#                             fill: global.text_fill
#                             weight: 400

#                 z13places-1-ne:
#                     filter: { scalerank: [0,1] }
#                     draw:
#                         text-blend-order:
#                             priority: 8
#                             interactive: false
#                             visible: false

#                 z13places-2-ne:
#                     filter: { scalerank: [2,3,4,5] }
#                     draw:
#                         text-blend-order:
#                             priority: 9
#                             visible: global.text_visible_populated_places
#                             font:
#                                 size: 13px
#                                 #stroke: { color: global.text_stroke, width: 4 }

#                 z13places-3-ne:
#                     filter: { scalerank: [6,7,8,9,10,11,12] }
#                     draw:
#                         text-blend-order:
#                             visible: global.text_visible_populated_places
#                             priority: 10
#                             font:
#                                 size: 12px
#                                 #stroke: { color: global.text_stroke, width: 4 }

#             neighborhood-z11:
#                 filter:
#                     all:
#                         - name: true
#                         - kind: [macrohood, neighbourhood]
#                         - $zoom: [11]
#                     any:
#                         - source: [openstreetmap, openstreetmap.org]
#                         - source: [whosonfirst, whosonfirst.mapzen.com]
#                           all:
#                             - min_zoom: [11]
#                             - max_zoom: { min: 12 }
#                             - is_landuse_aoi: false
#                             #- kind_tile_rank: { max: 6 }
#                 draw:
#                     text-blend-order:
#                         priority: 18
#                         text_wrap: 10
#                         visible: global.text_visible_neighbourhoods_e
#                         font:
#                             size: 9px
#                             weight: 400
#                             fill: global.text_fill
#                             transform: uppercase
#                             stroke: { color: global.text_stroke, width: 4 }
#             neighborhood-z12:
#                 filter:
#                     all:
#                         - name: true
#                         - kind: [macrohood, neighbourhood]
#                         - $zoom: [12]
#                     any:
#                         - source: [openstreetmap, openstreetmap.org]
#                         - source: [whosonfirst, whosonfirst.mapzen.com]
#                           all:
#                             - min_zoom: [11,12]
#                             - max_zoom: { min: 13 }
#                             - is_landuse_aoi: false
#                             #- kind_tile_rank: { max: 8 }
#                 draw:
#                     text-blend-order:
#                         priority: 18
#                         text_wrap: 10
#                         visible: global.text_visible_neighbourhoods_e
#                         font:
#                             size: 10px
#                             weight: 400
#                             fill: [0.300,0.300,0.300]
#                             transform: uppercase
#                             # stroke: { color: global.text_stroke, width: 2 }
#             neighborhood-z13:
#                 filter:
#                     all:
#                         - name: true
#                         - kind: [macrohood, neighbourhood]
#                         - $zoom: [13]
#                     any:
#                         - source: [openstreetmap, openstreetmap.org]
#                         - source: [whosonfirst, whosonfirst.mapzen.com]
#                           all:
#                             - min_zoom: [11,12,13]
#                             - max_zoom: { min: 14 }
#                             - is_landuse_aoi: false
#                             - kind_tile_rank: { max: 8 }
#                 draw:
#                     text-blend-order:
#                         priority: 18
#                         text_wrap: 10
#                         visible: global.text_visible_neighbourhoods_e
#                         font:
#                             size: 11px
#                             weight: 400
#                             fill: [0.35,0.35,0.35]
#                             transform: uppercase
#                             # stroke: { color: global.text_stroke, width: 2 }
#             neighborhood-z14:
#                 filter:
#                     all:
#                         - name: true
#                         - kind: [macrohood, neighbourhood]
#                         - $zoom: [14]
#                     any:
#                         - source: [openstreetmap, openstreetmap.org]
#                         - source: [whosonfirst, whosonfirst.mapzen.com]
#                           all:
#                             - min_zoom: [11,12,13,14]
#                             - max_zoom: { min: 15 }
#                             - is_landuse_aoi: false
#                             - kind_tile_rank: { max: 8 }
#                 draw:
#                     text-blend-order:
#                         priority: 18
#                         text_wrap: 12
#                         visible: global.text_visible_neighbourhoods
#                         font:
#                             size: 13px
#                             weight: 400
#                             fill: [0.000,0.000,0.000,0.500]
#                             transform: uppercase
#                             # stroke: { color: global.text_stroke, width: 3 }
#             neighborhood-z15:
#                 filter:
#                     all:
#                         - name: true
#                         - kind: [macrohood, neighbourhood]
#                         - $zoom: [15]
#                     any:
#                         - source: [openstreetmap, openstreetmap.org]
#                         - source: [whosonfirst, whosonfirst.mapzen.com]
#                           all:
#                             - min_zoom: [11,12,13,14,15]
#                             - max_zoom: { min: 16 }
#                             - is_landuse_aoi: false
#                             - kind_tile_rank: { max: 8 }
#                 draw:
#                     text-blend-order:
#                         priority: 18
#                         text_wrap: 12
#                         visible: global.text_visible_neighbourhoods
#                         font:
#                             size: 16px
#                             weight: 300
#                             fill: [0.000,0.000,0.000,0.480]
#                             transform: uppercase
#                             # stroke: { color: global.text_stroke, width: 3 }
#                 z15-new:
#                     filter:
#                         all:
#                             - min_zoom: 15
#                     draw:
#                         text-blend-order:
#                             priority: 19
#                             font:
#                                 size: 13px
#             neighborhood-z16:
#                 filter:
#                     all:
#                         - name: true
#                         - kind: [macrohood, neighbourhood]
#                         - $zoom: [16]
#                     any:
#                         - source: [openstreetmap, openstreetmap.org]
#                         - source: [whosonfirst, whosonfirst.mapzen.com]
#                           all:
#                             - min_zoom: [11,12,13,14,15,16]
#                             - max_zoom: { min: 17 }
#                             - is_landuse_aoi: false
#                             - kind_tile_rank: { max: 8 }
#                 draw:
#                     text-blend-order:
#                         visible: global.text_visible_neighbourhoods
#                         priority: 18
#                         font:
#                             size: 17px
#                             weight: 300
#                             fill: [0.000,0.000,0.000,0.400]
#                             transform: uppercase
#                             # stroke: { color: global.text_stroke, width: 3 }

styles:
    text-filter-tv:
        base: text
        mix: [filter-tv]

    # icons:
    #     base: points
    #     texture: pois
    #     blend_order: 1

    # text-blend-order:
    #     base: text
    #     blend_order: 1